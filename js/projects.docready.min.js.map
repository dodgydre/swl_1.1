{"version":3,"sources":["projects.docready.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"projects.docready.min.js","sourcesContent":["(function ($) {\r\n\r\n    \"use strict\";\r\n\r\n    // Global Variables\r\n    var ww = $(window).width(),\r\n        wh = $(window).height(),\r\n        headerheight = 105,\r\n        footerheight = 45,\r\n        iah = wh - headerheight - footerheight,\r\n        siteratio = ww / iah,\r\n        minww = 0,\r\n        minwh = 0,\r\n        gutter = 0,\r\n        easing = \"jswing\",\r\n        speed = 400,\r\n        fadeOutSpeed = 300,\r\n        fadeInSpeed = 700,\r\n        currenturl = window.location.pathname,\r\n        centered = false;\r\n\r\n    /*******************************************************************************/\r\n    /* Resize Image */\r\n    /*******************************************************************************/\r\n    function imgResize(el, cw, ch, prop, woff, hoff, loff, toff) {\r\n        // element, container width, height, css prop (margin/top), width offset, height offset, left offset, top offset\r\n        var iR, sf, fit, cR, ih, iw, imt, iml,\r\n            imgDim = new Array(4);\r\n\r\n        iR = parseFloat(el.data(\"r\"));\r\n        cR = (cw - woff) / (ch - hoff);\r\n        sf = el.data(\"f\");\r\n\r\n        if (sf === 200) {\r\n            sf = 1;\r\n            fit = false;\r\n        } else {\r\n            sf = parseFloat(sf / 100);\r\n            fit = true;\r\n        }\r\n\r\n        //element ratio\r\n        if (!iR) {\r\n            iR = el.width() / el.height();\r\n        }\r\n        //scale factor\r\n        if (!sf) {\r\n            sf = 1;\r\n        }\r\n\r\n        // fit inside container\r\n        if (fit) {\r\n            //cR = (cw - woff) / (ch - hoff);\r\n            if (cR > iR) {\r\n                ih = (ch - hoff) * sf;\r\n                iw = ih * iR;\r\n            } else {\r\n                iw = (cw - woff) * sf;\r\n                ih = iw / iR;\r\n            }\r\n            imt = (ch - hoff - ih) / 2;\r\n            iml = (cw - woff - iw) / 2;\r\n        } else {\r\n            // fill container\r\n            //cr = (cw / ch);\r\n            if (iR < 1) {\r\n                //image is portrait\r\n                iw = cw;\r\n                ih = iw / iR;\r\n                if (ih < ch) {\r\n                    ih = ch;\r\n                    iw = ih * iR;\r\n                    iml = (cw - iw) / 2 - loff;\r\n                    imt = (ch - ih) / 2 - toff;\r\n                } else {\r\n                    imt = (ch - ih) / 2 - toff;\r\n                    iml = (cw - iw) / 2 - loff;\r\n                }\r\n            } else {\r\n                // image is landscape\r\n                ih = ch;\r\n                iw = ih * iR;\r\n\r\n                if (iw < cw) {\r\n                    iw = cw;\r\n                    ih = iw / iR;\r\n                }\r\n\r\n                iml = (cw - iw) / 2 - loff;\r\n                imt = (ch - ih) / 2 - toff;\r\n            }\r\n        }\r\n\r\n        if (el.hasClass('full')) {\r\n            if (cR > iR) {\r\n                iw = cw;\r\n                ih = iw / iR;\r\n                iml = 0;\r\n                imt = -(iw - cw) / 2;\r\n            } else {\r\n                ih = ch;\r\n                iw = ih * iR;\r\n                iml = -(ih - ch) / 2;\r\n                imt = 0;\r\n            }\r\n        }\r\n\r\n        if (prop === \"margin\") {\r\n            el.width(iw).height(ih).css({\r\n                marginTop: imt + \"px\",\r\n                marginLeft: iml + \"px\"\r\n            });\r\n        } else if (prop === \"position\") {\r\n            el.width(iw).height(ih).css({\r\n                top: imt + \"px\",\r\n                left: iml + \"px\"\r\n            });\r\n        } else if (prop === \"array\") {\r\n            imgDim[0] = iw;\r\n            imgDim[1] = ih;\r\n            imgDim[2] = iml;\r\n            imgDim[3] = imt;\r\n            return imgDim;\r\n        }\r\n    }\r\n    /* End Resize Image */\r\n\r\n    /*******************************************************************************/\r\n    /* imgResizeLeft\r\n    /* Resize an image with Left justify\r\n    /*******************************************************************************/\r\n    function imgResizeLeft(el, cw, ch, prop, woff, hoff, loff, toff) {\r\n        // element, container width, height, css prop (margin/top), width offset, height offset, left offset, top offset\r\n        var iR, sf, fit, cR, ih, iw, imt, iml,\r\n            imgDim = new Array(4);\r\n\r\n        iR = parseFloat(el.data(\"r\"));\r\n        cR = (cw - woff) / (ch - hoff);\r\n        sf = el.data(\"f\");\r\n\r\n        if (sf === 200) {\r\n            sf = 1;\r\n            fit = false;\r\n        } else {\r\n            sf = parseFloat(sf / 100);\r\n            fit = true;\r\n        }\r\n\r\n        //element ratio\r\n        if (!iR) {\r\n            iR = el.width() / el.height();\r\n        }\r\n        //scale factor\r\n        if (!sf) {\r\n            sf = 1;\r\n        }\r\n\r\n        // fit inside container\r\n        if (fit) {\r\n            //cR = (cw - woff) / (ch - hoff);\r\n            if (cR > iR) {\r\n                ih = (ch - hoff) * sf;\r\n                iw = ih * iR;\r\n            } else {\r\n                iw = (cw - woff) * sf;\r\n                ih = iw / iR;\r\n            }\r\n            imt = (ch - hoff - ih) / 2;\r\n            iml = (cw - woff - iw) / 2;\r\n        } else {\r\n            // fill container\r\n            //cr = (cw / ch);\r\n            if (iR < 1) {\r\n                //image is portrait\r\n                iw = cw;\r\n                ih = iw / iR;\r\n                if (ih < ch) {\r\n                    ih = ch;\r\n                    iw = ih * iR;\r\n                    iml = (cw - iw) / 2 - loff;\r\n                    imt = (ch - ih) / 2 - toff;\r\n                } else {\r\n                    imt = (ch - ih) / 2 - toff;\r\n                    iml = (cw - iw) / 2 - loff;\r\n                }\r\n            } else {\r\n                // image is landscape\r\n                ih = ch;\r\n                iw = ih * iR;\r\n\r\n                if (iw < cw) {\r\n                    iw = cw;\r\n                    ih = iw / iR;\r\n                }\r\n\r\n                iml = (cw - iw) / 2 - loff;\r\n                imt = (ch - ih) / 2 - toff;\r\n            }\r\n        }\r\n\r\n        if (el.hasClass('full')) {\r\n            if (cR > iR) {\r\n                iw = cw;\r\n                ih = iw / iR;\r\n                iml = 0;\r\n                imt = -(iw - cw) / 2;\r\n            } else {\r\n                ih = ch;\r\n                iw = ih * iR;\r\n                iml = 0; //-(ih - ch) / 2;\r\n                imt = 0;\r\n            }\r\n        }\r\n\r\n        var iml = loff; // SET THE IMAGE LEFT TO 0\r\n\r\n        if (prop === \"margin\") {\r\n            el.width(iw).height(ih).css({\r\n                marginTop: imt + \"px\",\r\n                marginLeft: iml + \"px\"\r\n            });\r\n        } else if (prop === \"position\") {\r\n            el.width(iw).height(ih).css({\r\n                top: imt + \"px\",\r\n                left: iml + \"px\"\r\n            });\r\n        } else if (prop === \"array\") {\r\n            imgDim[0] = iw;\r\n            imgDim[1] = ih;\r\n            imgDim[2] = iml;\r\n            imgDim[3] = imt;\r\n            return imgDim;\r\n        }\r\n    }\r\n    /* End imgResizeLeft */\r\n\r\n    /*******************************************************************************/\r\n    /* Resize Site */\r\n    /*******************************************************************************/\r\n    function resizeSite() {\r\n        var iR, sf, fit, currentSlide;\r\n\r\n        ww = $(window).width();\r\n        wh = $(window).height();\r\n        if ($('body').hasClass('mobile')) {\r\n            headerheight = 45;\r\n        } else {\r\n            headerheight = 105;\r\n        }\r\n\r\n        iah = wh - headerheight - footerheight;\r\n        siteratio = ww / iah;\r\n\r\n        if (ww < minww) { ww = minww; }\r\n        if (wh < minwh) { wh = minwh; }\r\n\r\n        // resize the container\r\n        $('#site, .scrollwrap, .site').width(ww).height(iah);\r\n        //$('#proj_img').width(ww).height(iah);\r\n        //$('#proj_img').css('width', ww + \"px\").css('height', iah + \"px\");\r\n\r\n        // If the window is less than 769 hide the arrows and size the images.\r\n        if ($('body').hasClass('mobile')) {\r\n            $('.arrw').hide();\r\n            $('#proj_img img').each(function () {\r\n                $(this).removeClass('slide').addClass('single_project_image');\r\n                //$(this).hide();\r\n                $(this).css('width', ww + 'px').css('height', '').css('display', '');\r\n            });\r\n            $('.proj.active img').each(function () {\r\n                $(this).css('display', 'block').show();\r\n            });\r\n            $('.proj_wrapper').each(function () {\r\n                $(this).css('width', ww + 'px').height($(window).height() - 90);\r\n            });\r\n        } else if ($('body').hasClass('large')) {\r\n            $('#proj_img img').each(function () {\r\n                $(this).removeClass('single_project_image').addClass('slide');\r\n            });\r\n        }\r\n\r\n        // resize each picture\r\n        $('#proj_img .slide').each(function () {\r\n            var thisimg = $(this),\r\n                containerW,\r\n                containerH,\r\n                containerAspect,\r\n                imageAspect,\r\n                iw,\r\n                ih;\r\n            iR = parseFloat(thisimg.data(\"r\"));\r\n            sf = thisimg.data(\"f\");\r\n\r\n            if (sf === 200) {\r\n                sf = 1;\r\n                fit = false;\r\n            } else {\r\n                sf = parseFloat(sf / 100);\r\n                fit = true;\r\n            }\r\n            if ($(this).hasClass(\"full\")) {\r\n                //thisimg = $(this);\r\n                containerW = ww;\r\n                containerH = iah;\r\n                containerAspect = ww / iah;\r\n                imageAspect = iR;\r\n\r\n                if (containerAspect < imageAspect) {\r\n                    iw = iah * imageAspect;\r\n                    $(this)\r\n                        .css('width', iw)\r\n                        .css('height', iah)\r\n                        .css('top', '0')\r\n                        .css('left', (-(iah * imageAspect - ww) / 2));\r\n                } else {\r\n                    ih = ww / imageAspect;\r\n                    $(this)\r\n                        .css('width', ww)\r\n                        .css('height', ih)\r\n                        .css('top', (-(ww / imageAspect - iah) / 2))\r\n                        .css('left', '0');\r\n                }\r\n\r\n            } else {\r\n                if(centered) {\r\n                  var imgDim = imgResize(thisimg, ww, iah, \"position\", 0, 0, 0, 0);\r\n                }\r\n                else {\r\n                  var imgDim = imgResizeLeft(thisimg, ww, iah, \"position\", 135, 0, 105, 0);\r\n                }\r\n                //imgResize(thisimg, ww, iah, \"position\", 0, 0, 0, 0);\r\n            }\r\n        });\r\n        //end resize each picture\r\n\r\n        currentSlide = $(\".slideshow .slide:visible\");\r\n        // If there is a video, remove the down arrow so you can control the video.  Otherwise show both up and down arrows\r\n        if (currentSlide.length > 0 && currentSlide.hasClass(\"video\")) {\r\n            if ($(\".arrw.down\").length > 0) {\r\n                $(\".arrw.left, .arrw.right\").height(iah / 2).width((ww / 2));\r\n                $(\".arrw.down\").hide();\r\n            } else {\r\n                $(\".arrw.left, .arrw.right\").height(iah / 1.5).width((ww / 2));\r\n            }\r\n        } else {\r\n            $(\".arrw.left, .arrw.right\").height(iah - iah / 4).width((ww / 2));\r\n            $(\".arrw.down\").show();\r\n        }\r\n    }\r\n    /* End Resize Site */\r\n\r\n\r\n    /*******************************************************************************/\r\n    /* Start: adjustFooterHeight */\r\n    /*******************************************************************************/\r\n    function adjustFooterHeight() {\r\n        /* container height, footer height, below footer height */\r\n        var ch, fh, bfh, bfih;\r\n\r\n        ch = $(window).height() - footerheight - headerheight;\r\n        fh = $('.single-footer__container').height();\r\n        bfh = $('.single-below-footer__container').outerHeight();\r\n\r\n        if (bfh < 33) { bfh = 0; }\r\n\r\n        if (bfh > (ch - 150)) {\r\n            //console.log('1');\r\n            bfh = ch - 150;\r\n            // below footer inner height (subtract the margins)\r\n\r\n            bfih = bfh - 40;\r\n\r\n            $(\".single-below-footer__description\").height(bfih).css('overflow-y', 'scroll');\r\n\r\n            $(\".single-below-footer__container\");\r\n        }\r\n\r\n        $('.single-footer__container')\r\n            .stop()\r\n            .animate({\r\n                height: bfh + footerheight\r\n            }, {\r\n                duration: 200,\r\n                easing: 'jswing'\r\n            });\r\n        $('.single-below-footer__container')\r\n            .stop()\r\n            .animate({\r\n                marginTop: -(bfh)\r\n            }, {\r\n                duration: 200,\r\n                easing: 'jswing'\r\n            });\r\n        $(\".single-below-footer__container\").height(bfh);\r\n        //console.log('2');\r\n\r\n    }\r\n    /* End: adjustFooterHeight */\r\n\r\n    /*******************************************************************************\r\n    * getNewProject\r\n    *******************************************************************************/\r\n    function getNewProject(thisProject, current, nextProj, dir) {\r\n        var project_id = nextProj.data(\"id\");\r\n\r\n        // TODO: Add Ajax to retrieve the next project images\r\n        $.ajax({\r\n            url: ajaxgetprojectimgs.ajaxurl,\r\n            type: 'post',\r\n            data: {\r\n                action: 'ajax_get_project_imgs',\r\n                project_id: project_id\r\n            },\r\n            dataType: 'json',\r\n            success: function (result) {\r\n                $.each(result, function (index, value) {\r\n                    nextProj.find('.proj_wrapper').first().append(value);\r\n                });\r\n                resizeSite();\r\n\r\n            }\r\n        });\r\n    }\r\n    /* End getNewProject */\r\n\r\n    /*******************************************************************************\r\n    * Load Previous and Next Project Images\r\n    *******************************************************************************/\r\n    function loadPrevAndNextProject(thisProj) {\r\n        // is the next project the next one along?\r\n        var nextProj, prevProj;\r\n\r\n        if (thisProj.next(\".proj\").first().length > 0) {\r\n            nextProj = thisProj.nextAll(\".proj\").first();\r\n        } else {\r\n            // if not then the next project is the first project\r\n            nextProj = $(\".proj:first-child\");\r\n        }\r\n        // If the next project is currently empty, load in the images\r\n        if (nextProj.find('.proj_wrapper').first().html() === \"\") {\r\n            getNewProject(thisProj, \"\", nextProj, \"\");\r\n        }\r\n\r\n        // is the previous project one back?\r\n        if (thisProj.prevAll(\".proj\").first().length > 0) {\r\n            prevProj = thisProj.prevAll(\".proj\").first();\r\n        } else {\r\n            // if not then the previous project is the last project\r\n            prevProj = $(\".proj\").eq($(\"proj\").length - 1);\r\n        }\r\n\r\n        // If the previous project is currently empty, load in the images\r\n        if (prevProj.find('.proj_wrapper').first().html() === \"\") {\r\n            getNewProject(thisProj, \"\", prevProj, \"\");\r\n        }\r\n    }\r\n    /* End Load Previous and Next Project Images */\r\n\r\n    /*******************************************************************************/\r\n    /* getPrevAndNextButtons */\r\n    /*******************************************************************************/\r\n    function getPrevAndNextButtons(thisProj) {\r\n        var nextProj, prevProj, table, directory, nextURL, prevURL;\r\n\r\n        table = thisProj.parent().data(\"t\");\r\n        if (table === \"projects\") {\r\n            directory = \"project\";\r\n        }\r\n\r\n        if (thisProj.next(\".proj\").first().length > 0) {\r\n            nextProj = thisProj.nextAll(\".proj\").first();\r\n        } else {\r\n            // if not then the next project is the first project\r\n            nextProj = $(\".proj:first-child\");\r\n        }\r\n\r\n        // is the previous project one back?\r\n        if (thisProj.prevAll(\".proj\").first().length > 0) {\r\n            prevProj = thisProj.prevAll(\".proj\").first();\r\n        } else {\r\n            // if not then the previous project is the last project\r\n            prevProj = $(\".proj\").eq($(\"proj\").length - 1);\r\n        }\r\n\r\n        nextURL = siteUrl + \"/\" + directory + \"/\" + nextProj.attr(\"id\").replace(\"p_\", \"\");\r\n        prevURL = siteUrl + \"/\" + directory + \"/\" + prevProj.attr(\"id\").replace(\"p_\", \"\");\r\n\r\n        $(\".arrw.down\").attr(\"href\", nextURL).attr(\"data-id\", nextProj.data(\"id\"));\r\n        $(\".arrw.up\").attr(\"href\", prevURL).attr(\"data-id\", prevProj.data(\"id\"));\r\n    }\r\n    /* End getPrevAndNextButtons */\r\n\r\n    /*******************************************************************************\r\n    * slideToProject\r\n    *******************************************************************************/\r\n    function slideToProject(thisProj, current, nextProj, dir) {\r\n        console.log(\"slideToProject\");\r\n        var currentLeft, slideToShow, currentTop, directory, imgDim, table, newLeft, caption, description, imagedate, ww;\r\n\r\n        ww = $(window).width();\r\n\r\n        if ($('body').hasClass('large')) {\r\n            currentLeft = current.offset().left;\r\n            slideToShow = nextProj.find(\".slide:first-child\");\r\n\r\n            imgDim = imgResize(slideToShow, ww, iah, \"array\", 0, 0, 0, 0);\r\n\r\n            currentTop = current.offset().top;\r\n\r\n            /* If the footer is epanded, shrink it */\r\n            if ($('.single-footer__container').hasClass('expanded')) {\r\n                $('.single-expand').click();\r\n            }\r\n\r\n            if (dir === \"u\") {\r\n                current.stop().animate({ top: currentTop + wh + gutter }, { duration: speed - 100, easing: easing }).hide().css(\"top\", currentTop + \"px\");\r\n\r\n                slideToShow.css(\"top\", (imgDim[3] - wh - gutter) + \"px\").show(0).stop().animate({ top: imgDim[3] }, { duration: speed, easing: easing });\r\n\r\n                newLeft = ($(\".proj.active .slide\").length - 1) * 13;\r\n            } else {\r\n                current.stop().animate({ top: (currentTop - wh) }, { duration: speed - 100, easing: easing }).hide(0).css(\"top\", currentTop + \"px\");\r\n                slideToShow.css(\"top\", (ww + imgDim[3]) + \"px\").show(0).stop().animate({ top: imgDim[3] }, { duration: speed, easing: easing });\r\n            }\r\n        } else {\r\n            // On mobile device so slide is left and right\r\n\r\n            slideToShow = nextProj;\r\n\r\n            /* If the footer is epanded, shrink it */\r\n            if ($('.single-footer__container').hasClass('expanded')) {\r\n                $('.single-expand').click();\r\n            }\r\n\r\n            if (dir === \"u\") {\r\n                current.stop().animate({ left: ww }, { duration: 50, easing: easing, complete: function () { $(this).hide().css(\"left\", \"0\"); } });\r\n\r\n                //slideToShow.css('height',$(window).height() - 90);\r\n                slideToShow.css(\"left\", \"-\" + ww + \"px\").show(0).stop().animate({ left: 0 }, { duration: 300, easing: easing });\r\n\r\n            } else {\r\n                current.stop().animate({ left: -ww }, { duration: 50, easing: easing, complete: function () { $(this).hide(0).css(\"left\", \"0px\"); } });\r\n\r\n                //slideToShow.css('height',$(window).height() - 90);\r\n                slideToShow.css(\"left\", ww + \"px\").show(0).stop().animate({ left: 0 }, { duration: 300, easing: easing });\r\n            }\r\n        }\r\n\r\n        thisProj.removeClass(\"active\");\r\n        thisProj.find('.single-project-caption').addClass('inactive');\r\n        thisProj.find('.single-project-description').addClass('inactive');\r\n        thisProj.find('.single-project-date').addClass('inactive');\r\n\r\n        nextProj.addClass(\"active\");\r\n        nextProj.find('.single-project-caption').removeClass('inactive');\r\n        nextProj.find('.single-project-description').removeClass('inactive');\r\n        nextProj.find('.single-project-date').removeClass('inactive');\r\n\r\n        caption = $('#proj_img .active img').first().nextAll('.single-project-caption').first().html();\r\n        description = $('#proj_img .active img').first().nextAll('.single-project-description').first().html();\r\n        imagedate = $('#proj_img .active img').first().nextAll('.single-project-date').first().html();\r\n\r\n        $('.single-footer__caption').html(caption);\r\n        $('.single-footer__caption-date').html(imagedate);\r\n        $('.single-below-footer__description').html(description);\r\n\r\n        getPrevAndNextButtons(nextProj);\r\n        document.title = (nextProj.data(\"title\")) + \"- Structure Workshop\";\r\n        loadPrevAndNextProject(nextProj);\r\n    }\r\n    /* End slideToProject */\r\n\r\n\r\n    /*******************************************************************************\r\n    * goToProject\r\n    * args:\r\n    *   href - address of project to go to\r\n    *   slug - project, etc.\r\n    *******************************************************************************/\r\n    function goToProject(href, slug) {\r\n        var dir, thisSlideShow, thisProj, nextProj, current;\r\n\r\n        thisSlideShow = $('#proj_img');\r\n        thisProj = $(\".proj.active\");\r\n        if ($('body').hasClass('large')) {\r\n            current = $(\".proj.active .slide:visible\");\r\n        } else {\r\n            current = $(\".proj.active\");\r\n        }\r\n\r\n        nextProj = $(\"#p_\" + slug);\r\n        if (nextProj.index() > thisProj.index()) {\r\n            if (thisProj.index() === 0 && nextProj.index() === $(\".proj\").length - 1) {\r\n                dir = \"u\";\r\n            } else {\r\n                dir = \"d\";\r\n            }\r\n        } else {\r\n            if (thisProj.index() === $(\".proj\").length - 1 && nextProj.index() === 0) {\r\n                dir = \"d\";\r\n            } else {\r\n                dir = \"u\";\r\n            }\r\n        }\r\n\r\n        if (nextProj.find('.proj_wrapper').first().html() === \"\") {\r\n            getNewProject(thisProj, current, nextProj, dir);\r\n            slideToProject(thisProj, current, nextProj, dir);\r\n        } else {\r\n            slideToProject(thisProj, current, nextProj, dir);\r\n        }\r\n\r\n    }\r\n    /* End GoToProject */\r\n\r\n    /*******************************************************************************\r\n    * getPage\r\n    * Get Current Page URL. If the new href state is\r\n    * different then go to different project\r\n    *******************************************************************************/\r\n    function getPage(href, push) {\r\n        var l, cl;\r\n\r\n        if (href[0] !== \"/\") {\r\n            href = \"/\" + href;\r\n        }\r\n        if (currenturl[0] !== \"/\") {\r\n            currenturl = \"/\" + currenturl;\r\n        }\r\n\r\n        l = href.split(\"/\");\r\n        cl = currenturl.split(\"/\");\r\n\r\n        //console.log(l);\r\n\r\n        if (href !== currenturl) {\r\n            if (l[2] === \"project\") {\r\n                // send the slug only\r\n                goToProject(href, l[3]);\r\n            } else if (l[1] === \"project\") {\r\n                goToProject(href, l[2]);\r\n            }\r\n            currenturl = href;\r\n        }\r\n    }\r\n    /* End Get Current Page URL */\r\n\r\n    /*******************************************************************************\r\n    * swipeProjectLeft\r\n    * On mobile screens make a swipe to the left equal to a down arriw (next project)\r\n    *******************************************************************************/\r\n    function swipeProjectLeft (event, direction, distance, duration, fingerCount) {\r\n        var href;\r\n        event.preventDefault();\r\n        console.log('swiped left');\r\n        href = $('.arrw.down').attr('href');\r\n        History.pushState(null, null, href);\r\n    }\r\n\r\n    /*******************************************************************************\r\n    * swipeProjectRight\r\n    * On mobile screens make a swipe to the right equal to an up arrow (prev project)\r\n    *******************************************************************************/\r\n    function swipeProjectRight (event, direction, distance, duration, fingerCount) {\r\n        var href;\r\n        event.preventDefault();\r\n        console.log('swiped left');\r\n        href = $('.arrw.up').attr('href');\r\n        History.pushState(null, null, href);\r\n    }\r\n\r\n    /*******************************************************************************\r\n    * setLargeWindowClasses / setMobileClasses\r\n    * Add the required classes to the various divs\r\n    *******************************************************************************/\r\n    function setLargeWindowClasses () {\r\n        headerheight = 105;\r\n        iah = wh - footerheight - headerheight;\r\n        $('body').addClass('large').removeClass('mobile');\r\n        $('#proj_img').addClass('large').removeClass('mobile');\r\n        $('#proj_img_container').addClass('large').removeClass('mobile');\r\n        $('#proj_img_container').height(iah);\r\n        $('#proj_img img').addClass('slide');\r\n    }\r\n    function setMobileClasses () {\r\n        headerheight = 45;\r\n        iah = wh - footerheight - headerheight;\r\n        $('body').removeClass('large').addClass('mobile');\r\n        $('#proj_img').removeClass('large').addClass('mobile');\r\n        $('#proj_img_container').removeClass('large').addClass('mobile');\r\n        $('#proj_img_container').height(iah);\r\n        $('#proj_img img').removeClass('slide');\r\n        $('.single-footer__more').text(' / Read text');\r\n        $('.arrw').hide();\r\n    }\r\n\r\n\r\n    /************************************************************************************************\r\n    * DOCREADY\r\n    ************************************************************************************************/\r\n\r\n    $(document).ready(function () {\r\n\r\n        var History, hash, caption, description, imagedate, State, url, href;\r\n\r\n        /* -------  If smaller screen add mobile class to main div --------- */\r\n        if ($(window).width() > 769) {\r\n            setLargeWindowClasses();\r\n        } else {\r\n            setMobileClasses();\r\n        }\r\n\r\n        resizeSite();\r\n\r\n        /* -------  Button for footer expand --------- */\r\n        /*if ($('body').hasClass('large'))*/\r\n        //if (1) {\r\n\r\n        $('.single-expand').click(function (e) {\r\n            e.preventDefault();\r\n            /* IF the footer is already expanded then lower it */\r\n            if ($('.single-footer__container').hasClass('expanded')) {\r\n                $('.single-footer__container').stop().animate({\r\n                    height: footerheight\r\n                }, {\r\n                    duration: 20,\r\n                    easing: 'jswing'\r\n                });\r\n                $('.single-below-footer__container').stop().animate({\r\n                    marginTop: 0\r\n                }, {\r\n                    duration: 20,\r\n                    easing: 'jswing'\r\n                });\r\n                $('.single-footer__container').removeClass('expanded');\r\n                if ($('body').hasClass('large')) {\r\n                    $('.single-footer__more').text(' / Read text');\r\n                } else {\r\n                    $('.single-footer__more').text(' / Read text');\r\n                }\r\n            } else {\r\n                adjustFooterHeight();\r\n                $('.single-footer__container').addClass('expanded');\r\n                if ($('body').hasClass('large')) {\r\n                    $('.single-footer__more').text(' / Hide text');\r\n                } else {\r\n                    $('.single-footer__more').text(' / Hide text');\r\n                }\r\n            }\r\n        });\r\n\r\n        //}\r\n\r\n\r\n        /* -------  Change Browser Address Bar on Change Project --------- */\r\n        // TODO: Check\r\n\r\n        History = window.History;\r\n        if (History.enabled) {\r\n            History.Adapter.bind(window, 'statechange', function () {\r\n\r\n                State = History.getState();\r\n                url = document.createElement('a');\r\n                url.href = State.url;\r\n                getPage(url.pathname, false);\r\n            });\r\n            hash = window.location.hash;\r\n            if (hash) {\r\n                History.Adapter.trigger(window, 'statechange');\r\n            }\r\n        }\r\n\r\n\r\n        // Hide Images and Fade in the first one\r\n        if (!$.browser.msie) {\r\n\r\n            if ($(\"#proj_img\").length > 0) {\r\n                if ($('body').hasClass('large')) {\r\n                    if ($(\"#proj_img\").length > 0) {\r\n                        $(\"#proj_img img\").hide();\r\n                        $('#proj_img .active img').first().fadeIn(400);\r\n                    }\r\n                }\r\n                caption = $('#proj_img .active img').first().nextAll('.single-project-caption').html();\r\n                description = $('#proj_img .active img').first().nextAll('.single-project-description').html();\r\n                imagedate = $('#proj_img .active img').first().nextAll('.single-project-date').html();\r\n\r\n                $('.single-footer__caption').html(caption);\r\n                $('.single-footer__caption-date').html(imagedate);\r\n                $('.single-below-footer__description').html(description);\r\n            }\r\n        }\r\n\r\n        /* -------  On resizing, check the screen size again --------- */\r\n        $(window).resize(function () {\r\n            //console.log('resized');\r\n            //console.log($(window).width());\r\n            if ($(window).width() > 769) {\r\n                // If it was previously a mobile site but is now a large site:\r\n                if ($('.mobile').length > 0) {\r\n                    headerheight = 105;\r\n                    iah = $(window).height() - headerheight - footerheight;\r\n                    $('body').addClass('large').removeClass('mobile');\r\n                    $('#proj_img').addClass('large').removeClass('mobile');\r\n                    $('#proj_img_container').addClass('large').removeClass('mobile');\r\n\r\n                    // When switching back to large size, first hide all images,\r\n                    // then only show the current active project image\r\n                    $('#proj_img img').hide();\r\n                    $('#proj_img .active img').first().fadeIn(400);\r\n\r\n                    // reset the footer variables for the active project\r\n                    caption = $('#proj_img .active img').first().nextAll('.single-project-caption').first().html();\r\n                    description = $('#proj_img .active img').first().nextAll('.single-project-description').first().html();\r\n                    imagedate = $('#proj_img .active img').first().nextAll('.single-project-date').first().html();\r\n\r\n                    $('.single-footer__caption').html(caption);\r\n                    $('.single-footer__caption-date').html(imagedate);\r\n                    $('.single-below-footer__description').html(description);\r\n\r\n                    // Bring back the arrows if we go big again.\r\n                    $('.arrw').show();\r\n\r\n                    // Use Keyboard instead of Mouse\r\n                    $(document).keydown(function (e) {\r\n                        if (e.which === 37 && !e.metaKey) {\r\n                            e.preventDefault();\r\n                            $(\".arrw.left\").click();\r\n                        } else if (e.which === 38 && !e.metaKey) {\r\n                            e.preventDefault();\r\n                            $(\".arrw.up\").click();\r\n                        } else if (e.which === 39 && !e.metaKey) {\r\n                            e.preventDefault();\r\n                            $(\".arrw.right\").click();\r\n                        } else if (e.which === 40 && !e.metaKey) {\r\n                            e.preventDefault();\r\n                            $(\".arrw.down\").click();\r\n                        }\r\n                    });\r\n\r\n                    $(\".arrw\").swipe({\r\n                        //Generic swipe handler for all directions\r\n                        swipe: function (event, direction, distance, duration, fingerCount, fingerData) {\r\n                            //console.log(\"You swiped \" + direction);\r\n                            if (direction === \"left\") {\r\n                                $('.arrw.right').click();\r\n                            }\r\n                            if (direction === \"right\") {\r\n                                $('.arrw.left').click();\r\n                            }\r\n                            if (direction === \"down\") {\r\n                                $('.arrw.up').click();\r\n                            }\r\n                            if (direction === \"up\") {\r\n                                $('.arrw.down').click();\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    // Unbind the swipe function on the proj class that was applied when it was a small site.\r\n                    $('.proj').unbind(\"swipe\");\r\n                }\r\n            } else {\r\n                // If it becomes a small site but was previously a large one unbind the arrws\r\n                if ($('.large').length > 0) {\r\n                    headerheight = 45;\r\n                    iah = $(window).height() - headerheight - footerheight;\r\n\r\n                    $('body').removeClass('large').addClass('mobile');\r\n                    $('#proj_img').removeClass('large').addClass('mobile');\r\n                    $('#proj_img_container').removeClass('large').addClass('mobile');\r\n                    $('#proj_img_container').height(iah);\r\n                    // take away the arrows when we go small.\r\n                    $('.arrw').hide();\r\n\r\n                    $('.proj').swipe({swipeLeft: swipeProjectLeft, swipeRight: swipeProjectRight, allowPageScroll: \"vertical\"});\r\n\r\n                    $('.arrw').unbind(\"swipe\");\r\n                }\r\n            }\r\n            resizeSite();\r\n        });\r\n\r\n        // Project Table Sorting?\r\n\r\n        // Project Slider (1)\r\n        $(\"#proj_img.project .arrw\").click(function () {\r\n\r\n            //console.log('arrow clicked');\r\n\r\n            var dir, thislink, thisSlideShow, slideToShow, thisProject, current,\r\n                imgDim, currentLeft, nextCurrentLeft, nextNextLeft, caption, imagedate, description,\r\n                cw, ch, captionText, pause_string;\r\n\r\n\r\n            ww = $(window).width();\r\n            wh = $(window).height();\r\n\r\n            cw = ww;\r\n            ch = wh - footerheight - headerheight;\r\n\r\n            thislink = $(this);\r\n\r\n            if ($(this).hasClass(\"left\")) {\r\n                dir = \"l\";\r\n            } else if ($(this).hasClass(\"right\")) {\r\n                dir = \"r\";\r\n            } else if ($(this).hasClass(\"up\")) {\r\n                dir = \"u\";\r\n            } else if ($(this).hasClass(\"down\")) {\r\n                dir = \"d\";\r\n            }\r\n\r\n            resizeSite();\r\n\r\n\r\n            thisSlideShow = $(\"#proj_img\");\r\n            thisProject = $(\".proj.active\");\r\n            current = $(\".proj.active .slide:visible\");\r\n\r\n            // If the current slide is a video - make sure we stop the video before moving on.\r\n            if (current.hasClass('video')) {\r\n                pause_string = 'player_' + thisProject.attr('data-id') + '.pause()';\r\n                eval(pause_string);\r\n            }\r\n\r\n            /*  ----- CLICK LEFT (Prev Slide) -------*/\r\n            if (dir === \"l\") {\r\n                if (thisProject.find(\".slide\").length > 1) {\r\n                    // if the current slide is not the first then move one to the left.\r\n                    if (current.prevAll(\".proj.active .slide\").first().length > 0) {\r\n                        slideToShow = current.prevAll(\".proj.active .slide\").first();\r\n                    } else {\r\n                        // if the current slide IS the first one then slide to the last slide\r\n                        slideToShow = $(\".proj.active .slide\").eq($(\".proj.active .slide\").length - 1);\r\n                    }\r\n\r\n                    /* If the footer is epanded, shrink it */\r\n                    if ($('.single-footer__container').hasClass('expanded')) {\r\n                        $('.single-expand').click();\r\n                    }\r\n\r\n                    if (thisSlideShow.hasClass(\"fading\")) {\r\n                        current.fadeOut(fadeOutSpeed);\r\n                        slideToShow.fadeIn(fadeInSpeed);\r\n                    } else if (thisSlideShow.hasClass(\"sliding\")) {\r\n                        if(centered) {\r\n                          var imgDim = imgResize(slideToShow, ww, iah, \"array\", 0, 0, 0, 0);\r\n                        }\r\n                        else {\r\n                          var imgDim = imgResizeLeft(slideToShow, ww, iah, \"array\", 135, 0, 105, 0);\r\n                        }\r\n                        //imgDim = imgResize(slideToShow, cw, ch, \"array\", 0, 0, 0, 0);\r\n                        currentLeft = current.offset().left;\r\n                        nextCurrentLeft = currentLeft + cw + gutter;\r\n                        nextNextLeft = (imgDim[2] - cw - gutter);\r\n\r\n                        current.stop().animate({\r\n                            left: nextCurrentLeft\r\n                        }, {\r\n                            duration: speed,\r\n                            easing: easing\r\n                        }).hide(0).css(\"left\", currentLeft + \"px\");\r\n                        slideToShow.css(\"left\", nextNextLeft + \"px\").show(0).stop().animate({\r\n                            left: imgDim[2]\r\n                        }, {\r\n                            duration: speed,\r\n                            easing: easing\r\n                        });\r\n                    }\r\n                    captionText = slideToShow.next(\"span\").html();\r\n                    $(\"footer .imgcap\").html(captionText);\r\n                    if (slideToShow.hasClass(\"video\")) {\r\n                        $(\".arrw.left, .arrw.right\").height(ch / 2);\r\n                        $(\".arrw.down\").hide();\r\n                    } else {\r\n                        $(\"arrw.left, .arrw.right\").height(ch - 120);\r\n                        $(\"arrw.down\").show();\r\n                    }\r\n                    // If we want the image numebr...\r\n                    // TODO: Add the diagram to the bottom right showing image boxes and update\r\n                    //$(\"#footer .ic\").text(slideToShow.index(\".proj.active .slide\")+1);\r\n                }\r\n            } else if (dir === \"r\") { /*  ----- CLICK RIGHT (Next Slide) -------*/\r\n                //console.log('direction = right');\r\n\r\n                if (thisProject.find(\".slide\").length > 1) {\r\n                    if (current.nextAll(\".proj.active .slide\").first().length > 0) {\r\n                        // If we're not on the last slide, move one forward\r\n                        slideToShow = current.nextAll(\".proj.active .slide\").first();\r\n                    } else {\r\n                        // if we are on the last slide move back to the start\r\n                        slideToShow = $(\".proj.active .slide:first-child\");\r\n                    }\r\n\r\n                    /* If the footer is expanded, shrink it */\r\n                    if ($('.single-footer__container').hasClass('expanded')) {\r\n                        $('.single-expand').click();\r\n                    }\r\n\r\n                    if (thisSlideShow.hasClass(\"fading\")) {\r\n                        current.fadeOut(fadeOutSpeed);\r\n                        slideToShow.fadeIn(fadeInSpeed);\r\n                    } else if (thisSlideShow.hasClass(\"sliding\")) {\r\n                        if(centered) {\r\n                          var imgDim = imgResize(slideToShow, ww, iah, \"array\", 0, 0, 0, 0);\r\n                        }\r\n                        else {\r\n                          var imgDim = imgResizeLeft(slideToShow, ww, iah, \"array\", 135, 0, 105, 0);\r\n                        }\r\n\r\n                        //imgDim = imgResize(slideToShow, cw, ch, \"array\", 0, 0, 0, 0);\r\n                        currentLeft = current.offset().left;\r\n                        nextCurrentLeft = -(ww + gutter);\r\n                        nextNextLeft = (imgDim[2] + ww + gutter);\r\n                        current.stop().animate({\r\n                            left: nextCurrentLeft\r\n                        }, {\r\n                            duration: speed,\r\n                            easing: easing\r\n                        }).hide(0).css(\"left\", currentLeft + \"px\");\r\n                        slideToShow.css(\"left\", nextNextLeft + \"px\").show(0).stop().animate({\r\n                            left: imgDim[2]\r\n                        }, {\r\n                            duration: speed,\r\n                            easing: easing\r\n                        });\r\n                    }\r\n\r\n                    captionText = slideToShow.next(\"span\").html();\r\n                    $(\"#footer .imgcap\").html(captionText);\r\n                    if (slideToShow.hasClass(\"video\")) {\r\n                        $(\".arrw.left, .arrw.right\").height(ch / 2);\r\n                        $(\".arrw.down\").hide();\r\n                    } else {\r\n                        $(\".arrw.left, .arrw.right\").height(ch - 120);\r\n                        $(\".arrw.down\").show();\r\n                    }\r\n                }\r\n            } else if (dir === \"u\" || dir === \"d\") { /*  ----- CLICK UP OR DOWN (Next / Prev PROJECT) -------*/\r\n                href = thislink.attr(\"href\");\r\n                History.pushState(null, null, href);\r\n            }\r\n            return false;\r\n        }); // close >> #proj_img.project .arrw click\r\n\r\n\r\n\r\n        // NOTE: jQuery.touchSwipe.min.js\r\n        if ($('body').hasClass('large')) {\r\n            // Use Keyboard instead of Mouse\r\n            $(document).keydown(function (e) {\r\n                if (e.which === 37 && !e.metaKey) {\r\n                    e.preventDefault();\r\n                    $(\".arrw.left\").click();\r\n                } else if (e.which === 38 && !e.metaKey) {\r\n                    e.preventDefault();\r\n                    $(\".arrw.up\").click();\r\n                } else if (e.which === 39 && !e.metaKey) {\r\n                    e.preventDefault();\r\n                    $(\".arrw.right\").click();\r\n                } else if (e.which === 40 && !e.metaKey) {\r\n                    e.preventDefault();\r\n                    $(\".arrw.down\").click();\r\n                }\r\n            });\r\n\r\n            $(\".arrw\").swipe({\r\n                //Generic swipe handler for all directions\r\n                swipe: function (event, direction, distance, duration, fingerCount, fingerData) {\r\n                    //console.log(\"You swiped \" + direction);\r\n                    if (direction === \"left\") {\r\n                        $('.arrw.right').click();\r\n                    }\r\n                    if (direction === \"right\") {\r\n                        $('.arrw.left').click();\r\n                    }\r\n                    if (direction === \"down\") {\r\n                        $('.arrw.up').click();\r\n                    }\r\n                    if (direction === \"up\") {\r\n                        $('.arrw.down').click();\r\n                    }\r\n                }\r\n            });\r\n        } else { /* body doesn't have class large */\r\n            $('.proj').swipe({swipeLeft: swipeProjectLeft, swipeRight: swipeProjectRight, allowPageScroll: \"vertical\"});\r\n\r\n            /*$('.proj').swipe({\r\n                swipe: function (event, direction, distance, duration, fingerCount, fingerData) {\r\n\r\n                    // console.log('swipe');\r\n                    // console.log(event);\r\n                    // console.log(direction);\r\n                    // console.log(distance);\r\n                    // console.log(duration);\r\n\r\n                    if (direction === 'left') {\r\n                        //event.preventDefault();\r\n                        href = $('.arrw.down').attr('href');\r\n                        History.pushState(null, null, href);\r\n                    }\r\n                    if (direction === 'right') {\r\n                        //event.preventDefault();\r\n                        href = $('.arrw.up').attr('href');\r\n                        History.pushState(null, null, href);\r\n                    }\r\n                }\r\n            });*/\r\n        }\r\n\r\n        getPrevAndNextButtons($(\".proj.active\"));\r\n        loadPrevAndNextProject($(\".proj.active\"));\r\n\r\n    }); // close >> document(ready)\r\n\r\n    /*$(window).load(function() {\r\n        getPrevAndNextButtons($(\".proj.active\"));\r\n        loadPrevAndNextProject($(\".proj.active\"));\r\n    });*/\r\n\r\n})(jQuery);\r\n"]}
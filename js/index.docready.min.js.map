{"version":3,"sources":["index.docready.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.docready.min.js","sourcesContent":["(function ($) {\r\n\r\n    //\"use strict\";\r\n\r\n    // Global Variables\r\n    var ww = $(window).width(),\r\n        wh = $(window).height(),\r\n        headerheight = 105, // $('.header__container').height(),\r\n        footerheight = 45, // $('.footer__container').height(),\r\n        iah = wh - headerheight - footerheight,\r\n        siteratio = ww / iah,\r\n        minww = 0,\r\n        minwh = 0,\r\n        gutter = 0,\r\n        easing = \"jswing\",\r\n        speed = 400,\r\n        fadeOutSpeed = 300,\r\n        fadeInSpeed = 700,\r\n        currenturl = window.location.pathname,\r\n        centered = true;\r\n\r\n\r\n    /**************************************************************************/\r\n    /* imgResize\r\n    /*\r\n    /* Resize an image\r\n    /*\r\n    /* Inputs\r\n    /* element, container width, container height, css property (margin / top), width offet, height offset, left offset, top offset\r\n    /**************************************************************************/\r\n    function imgResize(el, cw, ch, prop, woff, hoff, loff, toff) {\r\n        var iR, sf, fit,\r\n            cR, ih, iw, imt, iml,\r\n            imgDim = new Array(4);\r\n\r\n        iR = parseFloat(el.data(\"r\"));\r\n        cR = (cw - woff) / (ch - hoff);\r\n        sf = el.data(\"f\");\r\n\r\n        if (sf === 200) {\r\n            sf = 1;\r\n            fit = false;\r\n        } else {\r\n            sf = parseFloat(sf / 100);\r\n            fit = true;\r\n        }\r\n\r\n        //element ratio\r\n        if (!iR) {\r\n            iR = el.width() / el.height();\r\n        }\r\n        //scale factor\r\n        if (!sf) {\r\n            sf = 1;\r\n        }\r\n\r\n        // fit inside container\r\n        if (fit) {\r\n            //cR = (cw - woff) / (ch - hoff);\r\n            if (cR > iR) {\r\n                ih = (ch - hoff) * sf;\r\n                iw = ih * iR;\r\n            } else {\r\n                iw = (cw - woff) * sf;\r\n                ih = iw / iR;\r\n            }\r\n            imt = (ch - hoff - ih) / 2;\r\n            iml = (cw - woff - iw) / 2;\r\n        } else { // fill container\r\n            //cr = (cw / ch);\r\n            if (iR < 1) {\r\n                //image is portrait\r\n                iw = cw;\r\n                ih = iw / iR;\r\n                if (ih < ch) {\r\n                    ih = ch;\r\n                    iw = ih * iR;\r\n                    iml = (cw - iw) / 2 - loff;\r\n                    imt = (ch - ih) / 2 - toff;\r\n                } else {\r\n                    imt = (ch - ih) / 2 - toff;\r\n                    iml = (cw - iw) / 2 - loff;\r\n                }\r\n            } else {\r\n                // image is landscape\r\n                ih = ch;\r\n                iw = ih * iR;\r\n\r\n                if (iw < cw) {\r\n                    iw = cw;\r\n                    ih = iw / iR;\r\n                }\r\n\r\n                iml = (cw - iw) / 2 - loff;\r\n                imt = (ch - ih) / 2 - toff;\r\n            }\r\n        }\r\n        // If image is to be full screen\r\n        if (el.hasClass('full')) {\r\n            if (cR > iR) {\r\n                // landscape. set width equal to container.  centre image vertically\r\n                iw = cw;\r\n                ih = iw / iR;\r\n                iml = 0;\r\n                imt = -((ih - ch) / 2);\r\n            } else {\r\n                // portrait. set height equal to container. centre image horizontally\r\n                ih = ch;\r\n                iw = ih * iR;\r\n                iml = -((iw - cw) / 2);\r\n                imt = 0;\r\n            }\r\n        }\r\n\r\n        if (prop === \"margin\") {\r\n            el.width(iw).height(ih).css({\r\n                marginTop: imt + \"px\",\r\n                marginLeft: iml + \"px\"\r\n            });\r\n        } else if (prop === \"position\") {\r\n            el.width(iw).height(ih).css({\r\n                top: imt + \"px\",\r\n                left: iml + \"px\"\r\n            });\r\n        } else if (prop === \"array\") {\r\n            imgDim[0] = iw;\r\n            imgDim[1] = ih;\r\n            imgDim[2] = iml;\r\n            imgDim[3] = imt;\r\n            return imgDim;\r\n        }\r\n    }\r\n    /* End Resize Image */\r\n\r\n    /**************************************************************************/\r\n    /* resizeSite\r\n    /*\r\n    /* Resize the whole site and set the classes on the divs if it goes large\r\n    /* or mobile\r\n    /**************************************************************************/\r\n    function resizeSite() {\r\n        var ww, wh, iah, minww, minwh, siteratio, iR, pw,\r\n            thisImg, thisText, width, height, imgleft, imgtop,\r\n            sf, fit;\r\n\r\n        ww = $(window).width();\r\n        wh = $(window).height();\r\n        iah = wh - headerheight - footerheight;\r\n        siteratio = ww / iah;\r\n\r\n        if (ww < minww) { ww = minww; }\r\n        if (wh < minwh) { wh = minwh; }\r\n\r\n        // resize the container\r\n        $('#site, .site').width(ww).height(iah);\r\n        $('#proj_img').width(ww).height(iah);\r\n        $('#proj_img').css('width', ww + \"px\").css('height', iah + \"px\");\r\n\r\n\r\n        // If the window is less than 769px hide the arrows\r\n        if ($('body').hasClass('mobile')) {\r\n            $('.arrw').hide();\r\n            $('#proj_img img').each(function () {\r\n                $(this).removeClass('slide').addClass('project_image');\r\n                $(this).css('width', '100%').css('display', 'block').css('height', '');\r\n            });\r\n        } else {\r\n            // otherwise show them\r\n            $('.arrw').show();\r\n            $('#proj_img img').each(function () {\r\n                $(this).addClass('slide').removeClass('project_image');\r\n            });\r\n        }\r\n\r\n        // resize each picture\r\n        $('#proj_img .slide').each(function () {\r\n\r\n            thisImg = $(this);\r\n            iR = parseFloat(thisImg.data(\"r\"));\r\n            sf = thisImg.data(\"f\");\r\n\r\n            if (sf === 200) {\r\n                sf = 1;\r\n                fit = false;\r\n            } else {\r\n                sf = parseFloat(sf / 100);\r\n                fit = true;\r\n            }\r\n\r\n            imgResize(thisImg, ww, iah, \"position\", 0, 0, 0, 0);\r\n        });\r\n        //end resize each picture\r\n\r\n        //$(\".arrw.left, .arrw.right\").height(iah).width((ww / 2) - (ww / 10));\r\n        $(\".arrw.left, .arrw.right\").not('.small').height(iah).width((ww / 2)).css(\"top\", \"0\");\r\n\r\n\r\n        // Resize the projthumbs in the archive-project page\r\n        $('.projthumb').each(function () {\r\n            // MOBILE SITE -> Size of imges is 140x140\r\n            if ($('body').hasClass('mobile')) {\r\n                thisImg = $(this).find('img');\r\n                thisText = $(this).find('.projtext');\r\n                iR = thisImg.data('r');\r\n                // Set the grid to be 3 squares wide on all mobiles\r\n                pw = (ww - (3 * 30) - 20) / 3;\r\n\r\n                //console.log(pw);\r\n\r\n                // set the size of the projthumb container\r\n                $(this).width(pw).height(pw);\r\n\r\n                // square image\r\n                if (iR === 1.0) {\r\n                    thisImg\r\n                        .height(pw)\r\n                        .width(pw)\r\n                        .css('left', '0px')\r\n                        .css('top', '0px');\r\n                    thisText\r\n                        .css('top', (pw + 5) + 'px')\r\n                        .css('left', '0px');\r\n                } else if (iR < 1.0) {\r\n                    // portrait image\r\n                    width = iR * pw;\r\n                    imgleft = (pw - width) / 2;\r\n                    thisImg\r\n                        .height(pw)\r\n                        .width('auto')\r\n                        .css('left', imgleft + 'px')\r\n                        .css('top', '0px');\r\n                    thisText\r\n                        .css('top', (pw + 5) + 'px')\r\n                        //.css('left', imgleft + 'px');\r\n                        .css('left', '0px');\r\n                } else {\r\n                    // landscape image\r\n                    height = pw / iR;\r\n                    imgtop = (pw - height) / 2;\r\n                    thisImg\r\n                        .height('auto')\r\n                        .width(pw)\r\n                        .css('left', '0px')\r\n                        .css('top', imgtop + 'px');\r\n                    thisText\r\n                        .css('top', height + imgtop + 5 + 'px');\r\n                }\r\n                thisText.show();\r\n            } else {\r\n                // DESKTOP Size\r\n                $(this).width('').height('');\r\n\r\n                thisImg = $(this).find('img');\r\n                thisText = $(this).find('.projtext');\r\n                iR = thisImg.data('r');\r\n                // square image\r\n                if (iR === 1.0) {\r\n                    thisImg\r\n                        .height(270)\r\n                        .width(270)\r\n                        .css('left', '0px')\r\n                        .css('top', '0px');\r\n                    thisText\r\n                        .css('top', '275px')\r\n                        .css('left', '0px');\r\n                } else if (iR < 1.0) {\r\n                    // portrait image\r\n\r\n                    width = iR * 270;\r\n                    imgleft = (270 - width) / 2;\r\n                    thisImg\r\n                        .height(270)\r\n                        .width('auto')\r\n                        .css('left', imgleft + 'px')\r\n                        .css('top', '0px');\r\n                    thisText\r\n                        .css('top', '275px')\r\n                        .css('left', imgleft + 'px');\r\n                } else {\r\n                    // landscape image\r\n\r\n                    height = 270 / iR;\r\n                    imgtop = (270 - height) / 2;\r\n                    thisImg\r\n                        .height('auto')\r\n                        .width(270)\r\n                        .css('left', '0px')\r\n                        .css('top', imgtop + 'px');\r\n                    thisText\r\n                        .css('top', height + imgtop + 5 + 'px');\r\n                }\r\n\r\n                /* Add Hover to Desktop images in Project Grid*/\r\n                $(this).hover(\r\n                    function () {\r\n                        $(this).find(\".projtext\").fadeIn(100);\r\n                    },\r\n                    function () {\r\n                        $(this).find(\".projtext\").fadeOut(100);\r\n                    }\r\n                );\r\n            }\r\n        });\r\n    }\r\n    /* End Resize Site */\r\n\r\n\r\n    /**************************************************************************/\r\n    /* adjustFooterHeight\r\n    /*\r\n    /* Slide the footer up or back down\r\n    /**************************************************************************/\r\n    function adjustFooterHeight() {\r\n        var ch = $(window).height() - headerheight - footerheight,\r\n            fh = $('.footer__container').height(),\r\n            bfh = $('.below-footer__container')[0].scrollHeight;\r\n\r\n        if (bfh < 33) { bfh = 0; }\r\n\r\n        if (bfh > (ch - 150)) {\r\n            bfh = ch - 150;\r\n            $(\".below-footer__description\").height(bfh).css('overflow-y', 'scroll');\r\n            $(\".below-footer__container\").css('overflow-y', 'scroll');\r\n        }\r\n\r\n        $(\".footer__container\")\r\n            .stop()\r\n            .animate({\r\n                height: bfh + footerheight\r\n            }, {\r\n                duration: 200,\r\n                easing: 'jswing'\r\n            });\r\n        $(\".below-footer__container\").stop().animate({\r\n            marginTop: -(bfh)\r\n        }, {\r\n            duration: 200,\r\n            easing: 'jswing'\r\n        });\r\n        $(\".below-footer__container\").height(bfh);\r\n\r\n    }\r\n    /* End: adjustFooterHeight */\r\n\r\n\r\n    /*******************************************************************************\r\n    * setLargeWindowClasses / setMobileClasses\r\n    * Add the required classes to the various divs\r\n    *******************************************************************************/\r\n    function setLargeWindowClasses () {\r\n        $('#proj_img').addClass('large').removeClass('mobile');\r\n        $('#projthumb-wrap').addClass('large').removeClass('mobile');\r\n        $('#proj_img img').addClass('slide');\r\n        $('body').addClass('large').removeClass('mobile');\r\n        $('.search').show();\r\n        $('.search-icon').show();\r\n        $('.large-menu-search').addClass('is-active');\r\n    }\r\n    function setMobileClasses () {\r\n        $('#proj_img').removeClass('large').addClass('mobile');\r\n        $('#projthumb-wrap').removeClass('large').addClass('mobile');\r\n        $('#proj_img img').removeClass('slide');\r\n        $('.arrw').hide();\r\n        $('body').addClass('mobile').removeClass('large');\r\n        if ($('body').hasClass('post-type-archive-project')) {\r\n          //$('.large-menu-filter').toggleClass('is-active');\r\n          $('.large-menu-search').removeClass('is-active');\r\n          $('.large-menu_mobile').removeClass('is-active');\r\n          //$('.large-menu-search').toggleClass('is-active');\r\n          $('.search').hide();\r\n          $('.search-icon').hide();\r\n        }\r\n        $(\".projthumb\").off('hover');\r\n\r\n\r\n    }\r\n\r\n    /**************************************************************************/\r\n    /* setLargeFooter\r\n    /*\r\n    /* Adds the text to the footer on large screens\r\n    /**************************************************************************/\r\n    function setLargeFooter() {\r\n      var caption, description, imagedate;\r\n\r\n      caption = $('#proj_img .active img').first().nextAll('.caption').first().html();\r\n      description = $('#proj_img .active img').first().nextAll('.description').first().html();\r\n      imagedate = $('#proj_img .active img').first().nextAll('.date').first().html();\r\n\r\n      $('.footer__caption').html(caption);\r\n      $('.footer__caption-date').html(imagedate);\r\n      $('.below-footer__description').html(description);\r\n    }\r\n\r\n    /**************************************************************************/\r\n    /* expandFooter\r\n    /*\r\n    /* When \"read more\" is clicked, expand the footer\r\n    /**************************************************************************/\r\n    function expandFooter() {\r\n      /* If the footer is already expanded then lower it */\r\n      if ($('.footer__container').hasClass('expanded')) {\r\n          $('.footer__container').stop().animate({\r\n              height: footerheight\r\n          }, {\r\n              duration: 20,\r\n              easing: 'jswing'\r\n          });\r\n          $('.below-footer__container').stop().animate({\r\n              marginTop: 0\r\n          }, {\r\n              duration: 20,\r\n              easing: 'jswing'\r\n          });\r\n          $('.footer__container').removeClass('expanded');\r\n          $('.footer__more').text(\" / Read text\");\r\n\r\n      } else {\r\n          adjustFooterHeight();\r\n          $('.footer__container').addClass('expanded');\r\n          $('.footer__more').text(\" / Hide text\");\r\n      }\r\n\r\n      //$('.below-footer__container').top\r\n    }\r\n\r\n\r\n    $(document).ready(function () {\r\n        /* ------ If smaller screen add mobile class to main div ------- */\r\n        if ($(window).width() > 769) {\r\n            setLargeWindowClasses();\r\n        } else {\r\n            setMobileClasses();\r\n        }\r\n\r\n        /* ------ On resizing, check the screen size again ------- */\r\n        $(window).resize(function () {\r\n            setTimeout(function() { // try this... give it a short timeout to catch the maximise button\r\n              // Desktop Size Screens\r\n              if ($(window).width() > 769) {\r\n                  if ($('.mobile').length > 0) {\r\n\r\n                      setLargeWindowClasses();\r\n                      setLargeFooter();\r\n\r\n                      $(\"#proj_img img\").hide();\r\n                      $('#proj_img .active img').first().fadeIn(400);\r\n                  }\r\n              } else { // Mobile Screens\r\n                  setMobileClasses()\r\n              }\r\n              resizeSite();\r\n            }, 100);\r\n\r\n        });\r\n\r\n\r\n        /* ------ Button for menu dropdown on smaller screens ------- */\r\n        $('.header__icon').click(function (e) {\r\n            if ($('body').hasClass('home')) {\r\n                e.preventDefault();\r\n                $('.header__icon').toggleClass('is-active');\r\n                $('.large-menu').toggleClass('is-active');\r\n                $('.large-menu-filter').toggleClass('is-active');\r\n                $('.large-menu_mobile').toggleClass('is-active');\r\n                $('.large-menu-search').toggleClass('is-active');\r\n                $('.sub_logo-large-image').toggleClass('is-hidden');\r\n                return false;\r\n            } else if ($('body').hasClass('mobile')) {\r\n\r\n            }\r\n        });\r\n\r\n        /* Search Input Box Slideout */\r\n        $('#searchIcon').click(function () {\r\n            if ($('#searchElements').css('left') === '0px') {\r\n                $('#searchElements').stop().animate({\r\n                    left: -302\r\n                }, {\r\n                    duration: 800,\r\n                    easing: 'jswing'\r\n                });\r\n            } else {\r\n                $('#searchElements').stop().animate({\r\n                    left: 0\r\n                }, {\r\n                    duration: 800,\r\n                    easing: 'jswing'\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n        /* ------ Button for Footer Expand ------- */\r\n        $('.expand').click(function (e) {\r\n            e.preventDefault();\r\n            expandFooter();\r\n        });\r\n\r\n        resizeSite();\r\n        //$(window).resize(resizeSite);\r\n\r\n        // Hide Images and Fade in the first one\r\n        if (!$.browser.msie && $(window).width() > 769) {\r\n            if ($(\"#proj_img\").length > 0) {\r\n                //hide all images and show the first one\r\n                $(\"#proj_img img\").hide();\r\n                $('#proj_img .active img').first().fadeIn(400);\r\n                setLargeFooter();\r\n            }\r\n        }\r\n\r\n        // Project Slider\r\n        $(\"#proj_img.home .arrw\").click(function () {\r\n            var dir, thislink, thisSlideShow, slideToShow, thisProject, current,\r\n                imgDim, currentLeft, nextCurrentLeft, nextNextLeft,\r\n                caption, imagedate, description,\r\n                ww, wh, cw, ch;\r\n\r\n            ww = $(window).width();\r\n            wh = $(window).height();\r\n\r\n            cw = ww;\r\n            ch = wh - footerheight - headerheight;\r\n\r\n            thislink = $(this);\r\n\r\n            if (thislink.hasClass(\"left\")) {\r\n                dir = \"l\";\r\n            } else if (thislink.hasClass(\"right\")) {\r\n                dir = \"r\";\r\n            }\r\n\r\n            //resizeSite();\r\n\r\n\r\n            thisSlideShow = $(\"#proj_img\");\r\n            thisProject = $(\".proj.active\");\r\n            current = $(\".proj.active .slide:visible\");\r\n\r\n            if (dir === \"l\") {\r\n                if (thisProject.find(\".slide\").length > 1) {\r\n                    if (current.prevAll(\".proj.active .slide\").first().length > 0) {\r\n                        // if the current slide is not the first then move one to the left.\r\n                        slideToShow = current.prevAll(\".proj.active .slide\").first();\r\n                    } else {\r\n                        // if the current slide IS the first one then slide to the last slide\r\n                        slideToShow = $(\".proj.active .slide\").eq($(\".proj.active .slide\").length - 1);\r\n                    }\r\n\r\n                    /* If the footer is expanded, shrink it */\r\n                    if ($('.footer__container').hasClass('expanded')) {\r\n                        $('.expand').click();\r\n                    }\r\n                    // Fading or Sliding?\r\n                    if (thisSlideShow.hasClass(\"fading\")) {\r\n                        current.fadeOut(fadeOutSpeed);\r\n                        slideToShow.fadeIn(fadeInSpeed);\r\n                    } else if (thisSlideShow.hasClass(\"sliding\")) {\r\n                        imgDim = imgResize(slideToShow, cw, ch, \"array\", 0, 0, 0, 0);\r\n                        currentLeft = current.offset().left;\r\n                        nextCurrentLeft = currentLeft + cw + gutter;\r\n                        nextNextLeft = (imgDim[2] - cw - gutter);\r\n\r\n                        // Retrieve the information for the next slide\r\n                        caption = slideToShow.nextAll('.caption').first().html();\r\n                        imagedate = slideToShow.nextAll('.date').first().html();\r\n                        description = slideToShow.nextAll('.description').first().html();\r\n\r\n\r\n                        current\r\n                            .stop()\r\n                            .animate({\r\n                                left: nextCurrentLeft\r\n                            }, {\r\n                                duration: speed,\r\n                                easing: easing\r\n                            })\r\n                            .hide(0)\r\n                            .css(\"left\", currentLeft + \"px\");\r\n\r\n                        slideToShow\r\n                            .css(\"left\", nextNextLeft + \"px\")\r\n                            .show(0)\r\n                            .stop()\r\n                            .animate({\r\n                                left: imgDim[2]\r\n                            }, speed, easing, function () {\r\n                                $('.footer__caption').html(caption);\r\n                                $('.footer__caption-date').html(imagedate);\r\n                                $('.below-footer__description').html(description);\r\n                            });\r\n                    }\r\n                }\r\n            } else if (dir === \"r\") {\r\n            /**********   SLIDE RIGHT *********/\r\n\r\n                if (thisProject.find(\".slide\").length > 1) {\r\n                    if (current.nextAll(\".proj.active .slide\").first().length > 0) {\r\n                        // If we're not on the last slide, move one forward\r\n                        slideToShow = current.nextAll(\".proj.active .slide\").first();\r\n\r\n                    } else {\r\n                        // if we are on the last slide move back to the start\r\n                        slideToShow = $(\".proj.active .slide\").first();\r\n                    }\r\n\r\n                    /* If the footer is expanded, shrink it */\r\n                    if ($('.footer__container').hasClass('expanded')) {\r\n                        $('.expand').click();\r\n                    }\r\n\r\n                    if (thisSlideShow.hasClass(\"fading\")) {\r\n                        current.fadeOut(fadeOutSpeed);\r\n                        slideToShow.fadeIn(fadeInSpeed);\r\n                    } else if (thisSlideShow.hasClass(\"sliding\")) {\r\n                        imgDim = imgResize(slideToShow, cw, ch, \"array\", 0, 0, 0, 0);\r\n                        currentLeft = current.offset().left;\r\n                        nextCurrentLeft = -(cw + gutter);\r\n                        nextNextLeft = (imgDim[2] + cw + gutter);\r\n\r\n                        caption = slideToShow.nextAll('.caption').first().html();\r\n                        imagedate = slideToShow.nextAll('.date').first().html();\r\n                        description = slideToShow.nextAll('.description').first().html();\r\n\r\n                        current\r\n                            .stop()\r\n                            .animate({\r\n                                left: nextCurrentLeft\r\n                            }, {\r\n                                duration: speed,\r\n                                easing: easing\r\n                            })\r\n                            .hide(0)\r\n                            .css(\"left\", currentLeft + \"px\");\r\n                        slideToShow\r\n                            .css(\"left\", nextNextLeft + \"px\")\r\n                            .show(0)\r\n                            .stop()\r\n                            .animate({\r\n                                left: imgDim[2]\r\n                            }, speed, easing, function () {\r\n                                $('.footer__caption').html(caption);\r\n                                $('.footer__caption-date').html(imagedate);\r\n                                $('.below-footer__description').html(description);\r\n                            });\r\n                    }\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }); // close >> #proj_img.proj .arrw click\r\n\r\n        // Use Keyboard instead of Mouse\r\n        // TODO: This should do different on small screens?\r\n        // For Index and Archive-Project it's ok\r\n        $(document).keydown(function (e) {\r\n            if (e.which === 37 && !e.metaKey) {\r\n                e.preventDefault();\r\n                $(\".arrw.left\").click();\r\n            } else if (e.which === 39 && !e.metaKey) {\r\n                e.preventDefault();\r\n                $(\".arrw.right\").click();\r\n            }\r\n        });\r\n\r\n        // NOTE: jQuery.touchSwipe.min.js\r\n        $(\".arrw\").swipe({\r\n            //Generic swipe handler for all directions\r\n            swipe: function (event, direction, distance, duration, fingerCount, fingerData) {\r\n                if (direction === \"left\") {\r\n                    $('.arrw.right').click();\r\n                }\r\n                if (direction === \"right\") {\r\n                    $('.arrw.left').click();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        /* NOTE: Start More button for cover images in mobile size */\r\n        $('.more').click(function () {\r\n            if ($(this).html() === '/ Read text') {\r\n                $(this).html('/ Hide text');\r\n                $(this).nextAll('.description').first().addClass('active');\r\n            } else {\r\n                $(this).html('/ Read text');\r\n                $(this).nextAll('.description').first().removeClass('active');\r\n            }\r\n        });\r\n\r\n        // NOTE: If you scroll past the image then close the more info box\r\n        $(window).scroll(function () {\r\n            $('.description.active').each(function () {\r\n                if ($(window).scrollTop() > $(this).nextAll('img').first().position().top) {\r\n                    $(this).prevAll('.more').first().click();\r\n                    $(window).scrollTop($(this).nextAll('img').first().position().top);\r\n                } else if ($(window).scrollTop() + $(window).height() < $(this).position().top) {\r\n                    $(this).prevAll('.more').first().click();\r\n                }\r\n            });\r\n        });\r\n        /* NOTE: End More button for cover images in mobile size */\r\n\r\n    }); // close >> document(ready)\r\n\r\n})(jQuery);\r\n"]}
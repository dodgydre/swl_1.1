!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=c),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var r=e(this),o=r.data(A);o||(o=new n(this,t),r.data(A,o))})}function n(t,n){function r(t){if(!(le()||e(t.target).closest(n.excludedElements,Ve).length>0)){var r=t.originalEvent?t.originalEvent:t;if(!r.pointerType||"mouse"!=r.pointerType||0!=n.fallbackToMouseEvents){var o,a=r.touches,i=a?a[0]:r;return We=T,a?Fe=a.length:n.preventDefaultEvents!==!1&&t.preventDefault(),De=0,Pe=null,Me=null,ze=null,Ne=0,qe=0,Re=0,_e=1,Qe=0,$e=ve(),se(),de(0,i),!a||Fe===n.fingers||n.fingers===b||z()?(Ye=xe(),2==Fe&&(de(1,a[1]),qe=Re=be(Xe[0].start,Xe[1].start)),(n.swipeStatus||n.pinchStatus)&&(o=D(r,We))):o=!1,o===!1?(We=E,D(r,We),o):(n.hold&&(tt=setTimeout(e.proxy(function(){Ve.trigger("hold",[r.target]),n.hold&&(o=n.hold.call(Ve,r,r.target))},this),n.longTapThreshold)),ce(!0),null)}}}function O(e){var t=e.originalEvent?e.originalEvent:e;if(We!==w&&We!==E&&!ue()){var r,o=t.touches,a=o?o[0]:t,i=pe(a);if(Je=xe(),o&&(Fe=o.length),n.hold&&clearTimeout(tt),We=I,2==Fe&&(0==qe?(de(1,o[1]),qe=Re=be(Xe[0].start,Xe[1].start)):(pe(o[1]),Re=be(Xe[0].end,Xe[1].end),ze=Te(Xe[0].end,Xe[1].end)),_e=Se(qe,Re),Qe=Math.abs(qe-Re)),Fe===n.fingers||n.fingers===b||!o||z()){if(Pe=Ee(i.start,i.end),Me=Ee(i.last,i.end),_(e,Me),De=Ie(i.start,i.end),Ne=ye(),fe(Pe,De),r=D(t,We),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var s=!0;if(n.triggerOnTouchLeave){var u=Le(this);s=ke(i.end,u)}!n.triggerOnTouchEnd&&s?We=B(I):n.triggerOnTouchLeave&&!s&&(We=B(w)),We!=E&&We!=w||D(t,We)}}else We=E,D(t,We);r===!1&&(We=E,D(t,We))}}function C(e){var t=e.originalEvent?e.originalEvent:e,r=t.touches;if(r){if(r.length&&!ue())return ie(t),!0;if(r.length&&ue())return!0}return ue()&&(Fe=Ge),Je=xe(),Ne=ye(),N()||!M()?(We=E,D(t,We)):n.triggerOnTouchEnd||n.triggerOnTouchEnd===!1&&We===I?(n.preventDefaultEvents!==!1&&e.preventDefault(),We=w,D(t,We)):!n.triggerOnTouchEnd&&J()?(We=w,P(t,We,f)):We===I&&(We=E,D(t,We)),ce(!1),null}function H(){Fe=0,Je=0,Ye=0,qe=0,Re=0,_e=1,se(),ce(!1)}function U(e){var t=e.originalEvent?e.originalEvent:e;n.triggerOnTouchLeave&&(We=B(w),D(t,We))}function j(){Ve.unbind(Ce,r),Ve.unbind(Be,H),Ve.unbind(He,O),Ve.unbind(Ue,C),je&&Ve.unbind(je,U),ce(!1)}function B(e){var t=e,r=R(),o=M(),a=N();return!r||a?t=E:!o||e!=I||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!o&&e==w&&n.triggerOnTouchLeave&&(t=E):t=w,t}function D(e,t){var n,r=e.touches;return(F()||W())&&(n=P(e,t,p)),($()||z())&&n!==!1&&(n=P(e,t,h)),oe()&&n!==!1?n=P(e,t,g):ae()&&n!==!1?n=P(e,t,v):re()&&n!==!1&&(n=P(e,t,f)),t===E&&H(e),t===w&&(r?r.length||H(e):H(e)),n}function P(t,r,c){var d;if(c==p){if(Ve.trigger("swipeStatus",[r,Pe||null,De||0,Ne||0,Fe,Xe,Me]),n.swipeStatus&&(d=n.swipeStatus.call(Ve,t,r,Pe||null,De||0,Ne||0,Fe,Xe,Me),d===!1))return!1;if(r==w&&V()){if(clearTimeout(et),clearTimeout(tt),Ve.trigger("swipe",[Pe,De,Ne,Fe,Xe,Me]),n.swipe&&(d=n.swipe.call(Ve,t,Pe,De,Ne,Fe,Xe,Me),d===!1))return!1;switch(Pe){case o:Ve.trigger("swipeLeft",[Pe,De,Ne,Fe,Xe,Me]),n.swipeLeft&&(d=n.swipeLeft.call(Ve,t,Pe,De,Ne,Fe,Xe,Me));break;case a:Ve.trigger("swipeRight",[Pe,De,Ne,Fe,Xe,Me]),n.swipeRight&&(d=n.swipeRight.call(Ve,t,Pe,De,Ne,Fe,Xe,Me));break;case i:Ve.trigger("swipeUp",[Pe,De,Ne,Fe,Xe,Me]),n.swipeUp&&(d=n.swipeUp.call(Ve,t,Pe,De,Ne,Fe,Xe,Me));break;case s:Ve.trigger("swipeDown",[Pe,De,Ne,Fe,Xe,Me]),n.swipeDown&&(d=n.swipeDown.call(Ve,t,Pe,De,Ne,Fe,Xe,Me))}}}if(c==h){if(Ve.trigger("pinchStatus",[r,ze||null,Qe||0,Ne||0,Fe,_e,Xe]),n.pinchStatus&&(d=n.pinchStatus.call(Ve,t,r,ze||null,Qe||0,Ne||0,Fe,_e,Xe),d===!1))return!1;if(r==w&&Q())switch(ze){case u:Ve.trigger("pinchIn",[ze||null,Qe||0,Ne||0,Fe,_e,Xe]),n.pinchIn&&(d=n.pinchIn.call(Ve,t,ze||null,Qe||0,Ne||0,Fe,_e,Xe));break;case l:Ve.trigger("pinchOut",[ze||null,Qe||0,Ne||0,Fe,_e,Xe]),n.pinchOut&&(d=n.pinchOut.call(Ve,t,ze||null,Qe||0,Ne||0,Fe,_e,Xe))}}return c==f?r!==E&&r!==w||(clearTimeout(et),clearTimeout(tt),K()&&!ee()?(Ze=xe(),et=setTimeout(e.proxy(function(){Ze=null,Ve.trigger("tap",[t.target]),n.tap&&(d=n.tap.call(Ve,t,t.target))},this),n.doubleTapThreshold)):(Ze=null,Ve.trigger("tap",[t.target]),n.tap&&(d=n.tap.call(Ve,t,t.target)))):c==g?r!==E&&r!==w||(clearTimeout(et),clearTimeout(tt),Ze=null,Ve.trigger("doubletap",[t.target]),n.doubleTap&&(d=n.doubleTap.call(Ve,t,t.target))):c==v&&(r!==E&&r!==w||(clearTimeout(et),Ze=null,Ve.trigger("longtap",[t.target]),n.longTap&&(d=n.longTap.call(Ve,t,t.target)))),d}function M(){var e=!0;return null!==n.threshold&&(e=De>=n.threshold),e}function N(){var e=!1;return null!==n.cancelThreshold&&null!==Pe&&(e=ge(Pe)-De>=n.cancelThreshold),e}function q(){return null===n.pinchThreshold||Qe>=n.pinchThreshold}function R(){var e;return e=!n.maxTimeThreshold||!(Ne>=n.maxTimeThreshold)}function _(e,t){if(n.preventDefaultEvents!==!1)if(n.allowPageScroll===c)e.preventDefault();else{var r=n.allowPageScroll===d;switch(t){case o:(n.swipeLeft&&r||!r&&n.allowPageScroll!=m)&&e.preventDefault();break;case a:(n.swipeRight&&r||!r&&n.allowPageScroll!=m)&&e.preventDefault();break;case i:(n.swipeUp&&r||!r&&n.allowPageScroll!=y)&&e.preventDefault();break;case s:(n.swipeDown&&r||!r&&n.allowPageScroll!=y)&&e.preventDefault();break;case c:}}}function Q(){var e=X(),t=Y(),n=q();return e&&t&&n}function z(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function $(){return!(!Q()||!z())}function V(){var e=R(),t=M(),n=X(),r=Y(),o=N(),a=!o&&r&&n&&t&&e;return a}function W(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function F(){return!(!V()||!W())}function X(){return Fe===n.fingers||n.fingers===b||!x}function Y(){return 0!==Xe[0].end.x}function J(){return!!n.tap}function K(){return!!n.doubleTap}function G(){return!!n.longTap}function Z(){if(null==Ze)return!1;var e=xe();return K()&&e-Ze<=n.doubleTapThreshold}function ee(){return Z()}function te(){return(1===Fe||!x)&&(isNaN(De)||De<n.threshold)}function ne(){return Ne>n.longTapThreshold&&S>De}function re(){return!(!te()||!J())}function oe(){return!(!Z()||!K())}function ae(){return!(!ne()||!G())}function ie(e){Ke=xe(),Ge=e.touches.length+1}function se(){Ke=0,Ge=0}function ue(){var e=!1;if(Ke){var t=xe()-Ke;t<=n.fingerReleaseThreshold&&(e=!0)}return e}function le(){return!(Ve.data(A+"_intouch")!==!0)}function ce(e){Ve&&(e===!0?(Ve.bind(He,O),Ve.bind(Ue,C),je&&Ve.bind(je,U)):(Ve.unbind(He,O,!1),Ve.unbind(Ue,C,!1),je&&Ve.unbind(je,U,!1)),Ve.data(A+"_intouch",e===!0))}function de(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,Xe[e]=n,n}function pe(e){var t=void 0!==e.identifier?e.identifier:0,n=he(t);return null===n&&(n=de(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function he(e){return Xe[e]||null}function fe(e,t){e!=c&&(t=Math.max(t,ge(e)),$e[e].distance=t)}function ge(e){return $e[e]?$e[e].distance:void 0}function ve(){var e={};return e[o]=me(o),e[a]=me(a),e[i]=me(i),e[s]=me(s),e}function me(e){return{direction:e,distance:0}}function ye(){return Je-Ye}function be(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function Se(e,t){var n=t/e*1;return n.toFixed(2)}function Te(){return 1>_e?l:u}function Ie(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function we(e,t){var n=e.x-t.x,r=t.y-e.y,o=Math.atan2(r,n),a=Math.round(180*o/Math.PI);return 0>a&&(a=360-Math.abs(a)),a}function Ee(e,t){if(Ae(e,t))return c;var n=we(e,t);return 45>=n&&n>=0?o:360>=n&&n>=315?o:n>=135&&225>=n?a:n>45&&135>n?s:i}function xe(){var e=new Date;return e.getTime()}function Le(t){t=e(t);var n=t.offset(),r={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return r}function ke(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}function Ae(e,t){return e.x==t.x&&e.y==t.y}var n=e.extend({},n),Oe=x||k||!n.fallbackToMouseEvents,Ce=Oe?k?L?"MSPointerDown":"pointerdown":"touchstart":"mousedown",He=Oe?k?L?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ue=Oe?k?L?"MSPointerUp":"pointerup":"touchend":"mouseup",je=Oe?k?"mouseleave":null:"mouseleave",Be=k?L?"MSPointerCancel":"pointercancel":"touchcancel",De=0,Pe=null,Me=null,Ne=0,qe=0,Re=0,_e=1,Qe=0,ze=0,$e=null,Ve=e(t),We="start",Fe=0,Xe={},Ye=0,Je=0,Ke=0,Ge=0,Ze=0,et=null,tt=null;try{Ve.bind(Ce,r),Ve.bind(Be,H)}catch(nt){e.error("events not supported "+Ce+","+Be+" on jQuery.swipe")}this.enable=function(){return this.disable(),Ve.bind(Ce,r),Ve.bind(Be,H),Ve},this.disable=function(){return j(),Ve},this.destroy=function(){j(),Ve.data(A,null),Ve=null},this.option=function(t,r){if("object"==typeof t)n=e.extend(n,t);else if(void 0!==n[t]){if(void 0===r)return n[t];n[t]=r}else{if(!t)return n;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var r="1.6.18",o="left",a="right",i="up",s="down",u="in",l="out",c="none",d="auto",p="swipe",h="pinch",f="tap",g="doubletap",v="longtap",m="horizontal",y="vertical",b="all",S=10,T="start",I="move",w="end",E="cancel",x="ontouchstart"in window,L=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!x,k=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!x,A="TouchSwipe",O={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(n){var r=e(this),o=r.data(A);if(o&&"string"==typeof n){if(o[n])return o[n].apply(o,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(o&&"object"==typeof n)o.option.apply(o,arguments);else if(!(o||"object"!=typeof n&&n))return t.apply(this,arguments);return r},e.fn.swipe.version=r,e.fn.swipe.defaults=O,e.fn.swipe.phases={PHASE_START:T,PHASE_MOVE:I,PHASE_END:w,PHASE_CANCEL:E},e.fn.swipe.directions={LEFT:o,RIGHT:a,UP:i,DOWN:s,IN:u,OUT:l},e.fn.swipe.pageScroll={NONE:c,HORIZONTAL:m,VERTICAL:y,AUTO:d},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:b}}),function(){var e=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,t=navigator.userAgent.toLowerCase().indexOf("opera")>-1,n=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(e||t||n)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t),e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus()))},!1)}(),function(){function e(){for(var e=this;-1===e.className.indexOf("nav-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}var t,n,r,o,a,i,s;if(t=document.getElementById("site-navigation"),t&&(n=t.getElementsByTagName("button")[0],"undefined"!=typeof n)){if(r=t.getElementsByTagName("ul")[0],"undefined"==typeof r)return void(n.style.display="none");for(r.setAttribute("aria-expanded","false"),-1===r.className.indexOf("nav-menu")&&(r.className+=" nav-menu"),n.onclick=function(){-1!==t.className.indexOf("toggled")?(t.className=t.className.replace(" toggled",""),n.setAttribute("aria-expanded","false"),r.setAttribute("aria-expanded","false")):(t.className+=" toggled",n.setAttribute("aria-expanded","true"),r.setAttribute("aria-expanded","true"))},o=r.getElementsByTagName("a"),a=r.getElementsByTagName("ul"),i=0,s=a.length;i<s;i++)a[i].parentNode.setAttribute("aria-haspopup","true");for(i=0,s=o.length;i<s;i++)o[i].addEventListener("focus",e,!0),o[i].addEventListener("blur",e,!0);!function(e){var t,n,r=e.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");if("ontouchstart"in window)for(t=function(e){var t,n=this.parentNode;if(n.classList.contains("focus"))n.classList.remove("focus");else{for(e.preventDefault(),t=0;t<n.parentNode.children.length;++t)n!==n.parentNode.children[t]&&n.parentNode.children[t].classList.remove("focus");n.classList.add("focus")}},n=0;n<r.length;++n)r[n].addEventListener("touchstart",t,!1)}(t)}}(),function(e,t){"use strict";var n=e.History=e.History||{},r=e.jQuery;if("undefined"!=typeof n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(e,t,n){r(e).bind(t,n)},trigger:function(e,t,n){r(e).trigger(t,n)},extractEventData:function(e,n,r){var o=n&&n.originalEvent&&n.originalEvent[e]||r&&r[e]||t;return o},onDomLoad:function(e){r(e)}},"undefined"!=typeof n.init&&n.init()}(window),function(e,t){"use strict";var n=e.console||t,r=e.document,o=e.navigator,a=!1,i=e.setTimeout,s=e.clearTimeout,u=e.setInterval,l=e.clearInterval,c=e.JSON,d=e.alert,p=e.History=e.History||{},h=e.history;try{a=e.sessionStorage,a.setItem("TEST","1"),a.removeItem("TEST")}catch(f){a=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,"undefined"!=typeof p.init)throw new Error("History.js Core has already been loaded...");p.init=function(e){return"undefined"!=typeof p.Adapter&&("undefined"!=typeof p.initCore&&p.initCore(),"undefined"!=typeof p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(f){if("undefined"!=typeof p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||r.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var e,t=p.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)l(t[e]);p.intervalList=null}},p.debug=function(){(p.options.debug||!1)&&p.log.apply(p,arguments)},p.log=function(){var e,t,o,a,i,s="undefined"!=typeof n&&"undefined"!=typeof n.log&&"undefined"!=typeof n.log.apply,u=r.getElementById("log");for(s?(a=Array.prototype.slice.call(arguments),e=a.shift(),"undefined"!=typeof n.debug?n.debug.apply(n,[e,a]):n.log.apply(n,[e,a])):e="\n"+arguments[0]+"\n",t=1,o=arguments.length;t<o;++t){if(i=arguments[t],"object"==typeof i&&"undefined"!=typeof c)try{i=c.stringify(i)}catch(l){}e+="\n"+i+"\n"}return u?(u.value+=e+"\n-----\n",u.scrollTop=u.scrollHeight-u.clientHeight):s||d(e),!0},p.getInternetExplorerMajorVersion=function(){var e=p.getInternetExplorerMajorVersion.cached="undefined"!=typeof p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=r.createElement("div"),n=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0];);return e>4&&e}();return e},p.isInternetExplorer=function(){var e=p.isInternetExplorer.cached="undefined"!=typeof p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion());return e},p.options.html4Mode?p.emulated={pushState:!0,hashChange:!0}:p.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(o.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(o.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in r)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},p.cloneObject=function(e){var t,n;return e?(t=c.stringify(e),n=c.parse(t)):n={},n},p.getRootUrl=function(){var e=r.location.protocol+"//"+(r.location.hostname||r.location.host);return r.location.port&&(e+=":"+r.location.port),e+="/"},p.getBaseHref=function(){var e=r.getElementsByTagName("base"),t=null,n="";return 1===e.length&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},p.getBaseUrl=function(){var e=p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl();return e},p.getPageUrl=function(){var e,t=p.getState(!1,!1),n=(t||{}).url||p.getLocationHref();return e=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,n){return/\./.test(e)?e:e+"/"})},p.getBasePageUrl=function(){var e=p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,n){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},p.getFullUrl=function(e,t){var n=e,r=e.substring(0,1);return t="undefined"==typeof t||t,/[a-z]+\:\/\//.test(e)||(n="/"===r?p.getRootUrl()+e.replace(/^\/+/,""):"#"===r?p.getPageUrl().replace(/#.*/,"")+e:"?"===r?p.getPageUrl().replace(/[\?#].*/,"")+e:t?p.getBaseUrl()+e.replace(/^(\.\/)+/,""):p.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},p.getShortUrl=function(e){var t=e,n=p.getBaseUrl(),r=p.getRootUrl();return p.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(r,"/"),p.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(e){return e=e||r,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:e.URL.indexOf("#")==-1&&e.location.href.indexOf("#")!=-1?e.location.href:e.URL||e.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var n=p.getLastSavedState();return!n&&t&&(n=p.createStateObject()),e&&(n=p.cloneObject(n),n.url=n.cleanUrl||n.url),n},p.getIdByState=function(e){var t,n=p.extractId(e.url);if(!n)if(t=p.getStateString(e),"undefined"!=typeof p.stateToId[t])n=p.stateToId[t];else if("undefined"!=typeof p.store.stateToId[t])n=p.store.stateToId[t];else{for(;n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof p.idToState[n]||"undefined"!=typeof p.store.idToState[n];);p.stateToId[t]=n,p.idToState[n]=e}return n},p.normalizeState=function(e){var t,n;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=p.getFullUrl(e.url?e.url:p.getLocationHref()),t.hash=p.getShortUrl(t.url),t.data=p.cloneObject(e.data),t.id=p.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!p.isEmptyObject(t.data),(t.title||n)&&p.options.disableSuid!==!0&&(t.hash=p.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=p.getFullUrl(t.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},p.createStateObject=function(e,t,n){var r={data:e,title:t,url:n};return r=p.normalizeState(r)},p.getStateById=function(e){e=String(e);var n=p.idToState[e]||p.store.idToState[e]||t;return n},p.getStateString=function(e){var t,n,r;return t=p.normalizeState(e),n={data:t.data,title:e.title,url:e.url},r=c.stringify(n)},p.getStateId=function(e){var t,n;return t=p.normalizeState(e),n=t.id},p.getHashByState=function(e){var t,n;return t=p.normalizeState(e),n=t.hash},p.extractId=function(e){var t,n,r,o;return o=e.indexOf("#")!=-1?e.split("#")[0]:e,n=/(.*)\&_suid=([0-9]+)$/.exec(o),r=n?n[1]||e:e,t=n?String(n[2]||""):"",t||!1},p.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},p.extractState=function(e,t){var n,r,o=null;return t=t||!1,n=p.extractId(e),n&&(o=p.getStateById(n)),o||(r=p.getFullUrl(e),n=p.getIdByUrl(r)||!1,n&&(o=p.getStateById(n)),!o&&t&&!p.isTraditionalAnchor(e)&&(o=p.createStateObject(null,null,r))),o},p.getIdByUrl=function(e){var n=p.urlToId[e]||p.store.urlToId[e]||t;return n},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||t},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||t},p.hasUrlDuplicate=function(e){var t,n=!1;return t=p.extractState(e.url),n=t&&t.id!==e.id},p.storeState=function(e){return p.urlToId[e.url]=e.id,p.storedStates.push(p.cloneObject(e)),e},p.isLastSavedState=function(e){var t,n,r,o=!1;return p.savedStates.length&&(t=e.id,n=p.getLastSavedState(),r=n.id,o=t===r),o},p.saveState=function(e){return!p.isLastSavedState(e)&&(p.savedStates.push(p.cloneObject(e)),!0)},p.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?p.savedStates[p.savedStates.length-1]:e<0?p.savedStates[p.savedStates.length+e]:p.savedStates[e]},p.getCurrentIndex=function(){var e=null;return e=p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(e){var t,n=p.getLocationHref(e);return t=p.getHashByUrl(n)},p.unescapeHash=function(e){var t=p.normalizeHash(e);return t=decodeURIComponent(t)},p.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},p.setHash=function(e,t){var n,o;return t!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:t}),!1):(p.busy(!0),n=p.extractState(e,!0),n&&!p.emulated.pushState?p.pushState(n.data,n.title,n.url,!1):p.getHash()!==e&&(p.bugs.setHash?(o=p.getPageUrl(),p.pushState(null,null,o+"#"+e,!1)):r.location.hash=e),p)},p.escapeHash=function(t){var n=p.normalizeHash(t);return n=e.encodeURIComponent(n),p.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},p.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=p.unescapeHash(t)},p.setTitle=function(e){var t,n=e.title;n||(t=p.getStateByIndex(0),t&&t.url===e.url&&(n=t.title||p.options.initialTitle));try{r.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(o){}return r.title=n,p},p.queues=[],p.busy=function(e){if("undefined"!=typeof e?p.busy.flag=e:"undefined"==typeof p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){s(p.busy.timeout);var t=function(){var e,n,r;if(!p.busy.flag)for(e=p.queues.length-1;e>=0;--e)n=p.queues[e],0!==n.length&&(r=n.shift(),p.fireQueueItem(r),p.busy.timeout=i(t,p.options.busyDelay))};p.busy.timeout=i(t,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(e){return e.callback.apply(e.scope||p,e.args||[])},p.pushQueue=function(e){return p.queues[e.queue||0]=p.queues[e.queue||0]||[],p.queues[e.queue||0].push(e),p},p.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),p.busy()?p.pushQueue(e):p.fireQueueItem(e),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(s(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(e){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=i(function(){return p.doubleCheckClear(),p.stateChanged||e(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var t,n=p.extractState(p.getLocationHref());if(!p.isLastSavedState(n))return t=n,t||(t=p.createStateObject()),p.Adapter.trigger(e,"popstate"),p},p.back=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),h.go(-1),!0)},p.forward=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),h.go(1),!0)},p.go=function(e,t){var n;if(e>0)for(n=1;n<=e;++n)p.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)p.back(t)}return p},p.emulated.pushState){var g=function(){};p.pushState=p.pushState||g,p.replaceState=p.replaceState||g}else p.onPopState=function(t,n){var r,o,a=!1,i=!1;return p.doubleCheckComplete(),r=p.getHash(),r?(o=p.extractState(r||p.getLocationHref(),!0),o?p.replaceState(o.data,o.title,o.url,!1):(p.Adapter.trigger(e,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):(a=p.Adapter.extractEventData("state",t,n)||!1,i=a?p.getStateById(a):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()),i||(i=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(i)?(p.busy(!1),!1):(p.storeState(i),p.saveState(i),p.setTitle(i),p.Adapter.trigger(e,"statechange"),p.busy(!1),!0))},p.Adapter.bind(e,"popstate",p.onPopState),p.pushState=function(t,n,r,o){if(p.getHashByUrl(r)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(o!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:o}),!1;p.busy(!0);var a=p.createStateObject(t,n,r);return p.isLastSavedState(a)?p.busy(!1):(p.storeState(a),p.expectedStateId=a.id,h.pushState(a.id,a.title,a.url),p.Adapter.trigger(e,"popstate")),!0},p.replaceState=function(t,n,r,o){if(p.getHashByUrl(r)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(o!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:o}),!1;p.busy(!0);var a=p.createStateObject(t,n,r);return p.isLastSavedState(a)?p.busy(!1):(p.storeState(a),p.expectedStateId=a.id,h.replaceState(a.id,a.title,a.url),p.Adapter.trigger(e,"popstate")),!0};if(a){try{p.store=c.parse(a.getItem("History.store"))||{}}catch(v){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(e,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),a&&(p.onUnload=function(){var e,t,n;try{e=c.parse(a.getItem("History.store"))||{}}catch(r){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in p.idToState)p.idToState.hasOwnProperty(t)&&(e.idToState[t]=p.idToState[t]);for(t in p.urlToId)p.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=p.urlToId[t]);for(t in p.stateToId)p.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=p.stateToId[t]);p.store=e,p.normalizeStore(),n=c.stringify(e);try{a.setItem("History.store",n)}catch(o){if(o.code!==DOMException.QUOTA_EXCEEDED_ERR)throw o;a.length&&(a.removeItem("History.store"),a.setItem("History.store",n))}},p.intervalList.push(u(p.onUnload,p.options.storeInterval)),p.Adapter.bind(e,"beforeunload",p.onUnload),p.Adapter.bind(e,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(u(p.safariStatePoll,p.options.safariPollInterval)),"Apple Computer, Inc."!==o.vendor&&"Mozilla"!==(o.appCodeName||"")||(p.Adapter.bind(e,"hashchange",function(){p.Adapter.trigger(e,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(e,"hashchange")})))},(!p.options||!p.options.delayInit)&&p.init()}(window),!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},r=n[e]=n[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{},r=n[e]=n[e]||{};return r[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=n.indexOf(t);return-1!=r&&n.splice(r,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=0,o=n[r];t=t||[];for(var a=this._onceEvents&&this._onceEvents[e];o;){var i=a&&a[o];i&&(this.off(e,o),delete a[o]),o.apply(this,t),r+=i?0:1,o=n[r]}return this}},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return t(e,n)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}(window,function(e,t){function n(e,t){for(var n in t)e[n]=t[n];return e}function r(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function o(e,t,a){return this instanceof o?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?a=t:n(this.options,t),a&&this.on("always",a),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(e,t,a)}function a(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}var s=e.jQuery,u=e.console;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&l[t]){for(var n=e.querySelectorAll("img"),r=0;r<n.length;r++){var o=n[r];this.addImage(o)}if("string"==typeof this.options.background){var a=e.querySelectorAll(this.options.background);for(r=0;r<a.length;r++){var i=a[r];this.addElementBackgroundImages(i)}}}};var l={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,r=n.exec(t.backgroundImage);null!==r;){var o=r&&r[2];o&&this.addBackground(o,e),r=n.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var n=new i(e,t);this.images.push(n)},o.prototype.check=function(){function e(e,n,r){setTimeout(function(){t.progress(e,n,r)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&u&&u.log("progress: "+n,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},a.prototype=Object.create(t.prototype),a.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),
this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},a.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype=Object.create(a.prototype),i.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(s=t,s.fn.imagesLoaded=function(e,t){var n=new o(this,e,t);return n.jqDeferred.promise(s(this))})},o.makeJQueryPlugin(),o});
!function(e){"use strict";function i(){var i,t,s,o,l,d;i=e(window).width(),t=e(window).height(),s=t-n-r,d=i/s,i<o&&(i=o),t<l&&(t=l),e("#site, .site").width(i).height(s),e("#proj_img").width(i).height(s),e("#proj_img").css("width",i+"px").css("height",s+"px"),e("body").hasClass("mobile")?(e(".arrw").hide(),e("#proj_img img").each(function(){e(this).removeClass("slide").addClass("project_image"),e(this).css("width","100%").css("display","block").css("height","").css("left",0)})):(e(".arrw").show(),e("#proj_img img").each(function(){e(this).addClass("slide").removeClass("project_image")})),e("#proj_img .slide").each(function(){var t,o,n=e(this),t=(parseFloat(n.data("r")),n.data("f"));200==t?(t=1,o=!1):(t=parseFloat(t/100),o=!0),a(n,i,s,"position",0,0,0,0)}),e(".arrw.left, .arrw.right").not(".small").height(s).width(i/2-i/10).css("top","0")}function a(e,i,a,t,s,o,n,r){var l,d,g,h,c,m,_,w;if(l=parseFloat(e.data("r")),h=(i-s)/(a-o),d=e.data("f"),200==d?(d=1,g=!1):(d=parseFloat(d/100),g=!0),l||(l=e.width()/e.height()),d||(d=1),g?(h>l?(c=(a-o)*d,m=c*l):(m=(i-s)*d,c=m/l),_=(a-o-c)/2,w=(i-s-m)/2):ir<1?(m=i,c=m/l,c<a?(c=a,m=c*ir,w=(i-m)/2-n,_=(a-c)/2-r):(_=(a-c)/2-r,w=(i-m)/2-n)):(c=a,m=c*ir,m<i&&(m=i,c=m/ir),w=(i-m)/2-n,_=(a-c)/2-r),e.hasClass("full")&&(h>l?(m=i,c=m/l,w=0,_=-((c-a)/2)):(c=a,m=c*l,w=-((m-i)/2),_=0)),"margin"==t)e.width(m).height(c).css({marginTop:_+"px",marginLeft:w+"px"});else if("position"==t)e.width(m).height(c).css({top:_+"px",left:w+"px"});else if("array"==t){var p=new Array(4);return p[0]=m,p[1]=c,p[2]=w,p[3]=_,p}}function t(i){var a=e(window).height()-n-r;i="undefined"!=typeof i?i:200;var t=(e(".single-footer__container").height(),e(".single-below-footer__container")[0].scrollHeight);t<33&&(t=0),t>a-150&&(t=a-150,e(".single-below-footer__container").css("overflow-y","scroll")),e(".single-footer__container").stop().animate({height:t+r},{duration:i,easing:"jswing"}),e(".single-below-footer__container").stop().animate({marginTop:-t},{duration:i,easing:"jswing"}),e(".single-below-footer__container").height(t)}var s=e(window).width(),o=e(window).height(),n=105,r=45,l=o-n-r;window.location.pathname;e(document).ready(function(){t(0),e(".header__icon").click(function(i){if(e("body").hasClass("home"))return i.preventDefault(),e(".header__icon").toggleClass("is-active"),e(".large-menu").toggleClass("is-active"),e(".large-menu_mobile").toggleClass("is-active"),e(".large-menu-search").toggleClass("is-active"),!1}),e(window).width()>769?(e("#page__container").addClass("large").removeClass("mobile"),e("body").addClass("large").removeClass("mobile")):(e("#page__container").removeClass("large").addClass("mobile"),e("body").removeClass("large").addClass("mobile")),e(window).resize(function(){e("#map").height(o-n-40),e(window).width()>769?e(".mobile").length>0&&(e("#page__container").addClass("large").removeClass("mobile"),e("body").addClass("large").removeClass("mobile")):(e("#page__container").removeClass("large").addClass("mobile"),e("body").removeClass("large").addClass("mobile")),i()}),e(".single-expand").click(function(i){i.preventDefault(),e(".single-footer__container").hasClass("expanded")?(e(".single-footer__container").stop().animate({height:r},{duration:200,easing:"jswing"}),e(".single-below-footer__container").stop().animate({marginTop:0},{duration:200,easing:"jswing"}),e(".single-footer__container").removeClass("expanded"),e(".single-footer__more").text(" / Read text")):(t(200),e(".single-footer__container").addClass("expanded"),e(".single-footer__more").text(" / Hide text"))}),e(".more").click(function(){"/ Read text"==e(this).html()?(e(this).html("/ Hide text"),e(this).nextAll(".description").first().addClass("active")):(e(this).html("/ Read text"),e(this).nextAll(".description").first().removeClass("active"))}),i(),e("#proj_img .slide").fadeIn()})}(jQuery);
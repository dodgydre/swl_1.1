{"version":3,"sources":["about.docready.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"about.docready.min.js","sourcesContent":["(function($) {\n\n    \"use strict\";\n\n    // Global Variables\n    var ww = $(window).width();\n    var wh = $(window).height();\n    var headerheight = 105;\n    var footerheight = 45;\n    var iah = wh - headerheight - footerheight;\n    var siteratio = ww / iah;\n    var minww = 0;\n    var minwh = 0;\n    var gutter = 0;\n    var easing = \"jswing\";\n    var speed = 400;\n    var fadeOutSpeed = 300;\n    var fadeInSpeed = 700;\n    var currenturl = window.location.pathname;\n\n    $(document).ready(function() {\n\n        adjustFooterHeight(0);\n\n        /* ------ Button for menu dropdown on smaller screens ------- */\n        $(\".header__icon\").click(function(e) {\n            if ($(\"body\").hasClass(\"home\")) {\n                e.preventDefault();\n                $(\".header__icon\").toggleClass(\"is-active\");\n                $(\".large-menu\").toggleClass(\"is-active\");\n                $(\".large-menu_mobile\").toggleClass(\"is-active\");\n                $(\".large-menu-search\").toggleClass(\"is-active\");\n                return false;\n            }\n        });\n\n        /* ------ If smaller screen add mobile class to main div ------- */\n        if ($(window).width() > 769) {\n            $(\"#page__container\").addClass(\"large\").removeClass(\"mobile\");\n            $(\"body\").addClass('large').removeClass('mobile');\n        } else {\n            $(\"#page__container\").removeClass(\"large\").addClass(\"mobile\");\n            $(\"body\").removeClass('large').addClass('mobile');\n        }\n\n        /* ------ On resizing, check the screen size again ------- */\n        $(window).resize(function() {\n            $(\"#map\").height(wh - headerheight - 40);\n\n            if ($(window).width() > 769) {\n                if ($(\".mobile\").length > 0) {\n                    $(\"#page__container\").addClass(\"large\").removeClass(\"mobile\");\n                    $('body').addClass('large').removeClass('mobile');\n                }\n            } else {\n                $(\"#page__container\").removeClass(\"large\").addClass(\"mobile\");\n                $('body').removeClass('large').addClass('mobile');\n\n            }\n            resizeSite();\n        });\n\n        /* -------  Button for footer expand --------- */\n        $(\".single-expand\").click(function(e) {\n            e.preventDefault();\n            /* IF the footer is already expanded then lower it */\n            if ($(\".single-footer__container\").hasClass(\"expanded\")) {\n                $(\".single-footer__container\").stop().animate({\n                    height: footerheight\n                }, {\n                    duration: 200,\n                    easing: \"jswing\"\n                });\n                $(\".single-below-footer__container\").stop().animate({\n                    marginTop: 0\n                }, {\n                    duration: 200,\n                    easing: \"jswing\"\n                });\n                $(\".single-footer__container\").removeClass(\"expanded\");\n                $(\".single-footer__more\").text(\" / Read text\");\n            } else {\n                // otherwise expand it\n                adjustFooterHeight(200);\n                $(\".single-footer__container\").addClass(\"expanded\");\n                $(\".single-footer__more\").text(\" / Hide text\");\n            }\n        });\n        /* -------  End Button for footer expand --------- */\n\n\n        /* NOTE: Start More button for image in mobile size */\n        $('.more').click(function() {\n            if ($(this).html() == '/ Read text') {\n                $(this).html('/ Hide text');\n                $(this).nextAll('.description').first().addClass('active');\n            } else {\n                $(this).html('/ Read text');\n                $(this).nextAll('.description').first().removeClass('active');\n            }\n        });\n        /* NOTE: expand More button for image in mobile size */\n\n        resizeSite();\n        $(\"#proj_img .slide\").fadeIn();\n\n    }); // close >> document(ready)\n\n    /* Resize Site */\n    function resizeSite() {\n        var ww, wh, iah, minww, minwh, siteratio;\n\n        ww = $(window).width();\n        wh = $(window).height();\n\n        iah = wh - headerheight - footerheight;\n        siteratio = ww / iah;\n\n        if (ww < minww) ww = minww;\n        if (wh < minwh) wh = minwh;\n\n        // resize the container\n        $(\"#site, .site\").width(ww).height(iah);\n        $(\"#proj_img\").width(ww).height(iah);\n        $(\"#proj_img\").css(\"width\", ww + \"px\").css(\"height\", iah + \"px\");\n\n\n        // If the window is less than 769px hide the arrows\n        if ($(\"body\").hasClass('mobile')) {\n            $(\".arrw\").hide();\n            $(\"#proj_img img\").each(function() {\n                $(this)\n                    .removeClass(\"slide\")\n                    .addClass(\"project_image\");\n                $(this)\n                    .css(\"width\", \"100%\")\n                    .css(\"display\", \"block\")\n                    .css(\"height\", \"\")\n                    .css(\"left\", 0);\n\n            });\n        }\n        // otherwise show them\n        else {\n            $(\".arrw\").show();\n            $(\"#proj_img img\").each(function() {\n                $(this).addClass(\"slide\").removeClass(\"project_image\");\n            });\n        }\n\n        // resize each picture\n        $(\"#proj_img .slide\").each(function() {\n            var thisimg = $(this);\n            var sf, fit;\n            var iR = parseFloat(thisimg.data(\"r\"));\n            var sf = thisimg.data(\"f\");\n\n            if (sf == 200) {\n                sf = 1;\n                fit = false;\n            } else {\n                sf = parseFloat(sf / 100);\n                fit = true;\n            }\n            /*\n            if ($(this).hasClass(\"full\")) {\n                var thisimg = $(this);\n                var containerW = ww;\n                var containerH = iah;\n                var containerAspect = ww / iah;\n                var imageAspect = iR;\n\n                if (containerAspect < imageAspect) {\n                    var iw = iah * imageAspect;\n                    $(this)\n                        .css('width', iw)\n                        .css('height', iah)\n                        .css('top', '0')\n                        .css('left', (-(iah * imageAspect - ww) / 2));\n                } else {\n                    var ih = ww / imageAspect;\n                    $(this)\n                        .css('width', ww)\n                        .css('height', ih)\n                        .css('top', (-(ww / imageAspect - iah) / 2))\n                        .css('left', '0');\n                }\n\n            } else {*/\n                imgResize(thisimg, ww, iah, \"position\", 0, 0, 0, 0);\n            /*}*/\n        });\n        //end resize each picture\n        // NOTE: splash3\n        $(\".arrw.left, .arrw.right\").not(\".small\").height(iah).width((ww / 2) - (ww / 10)).css(\"top\", \"0\");\n\n    }\n    /* End Resize Site */\n\n    /* Resize Image */\n    function imgResize(el, cw, ch, prop, woff, hoff, loff, toff) {\n        // element, container width, height, css prop (margin/top), width offset, height offset, left offset, top offset\n        var iR, sf, fit;\n        var cR, ih, iw, imt, iml;\n\n        iR = parseFloat(el.data(\"r\"));\n        cR = (cw - woff) / (ch - hoff);\n        sf = el.data(\"f\");\n\n        if (sf == 200) {\n            sf = 1;\n            fit = false;\n        } else {\n            sf = parseFloat(sf / 100);\n            fit = true;\n        }\n\n        //element ratio\n        if (!iR) {\n            iR = el.width() / el.height();\n        }\n        //scale factor\n        if (!sf) {\n            sf = 1;\n        }\n\n        // fit inside container\n        if (fit) {\n            //cR = (cw - woff) / (ch - hoff);\n            if (cR > iR) {\n                ih = (ch - hoff) * sf;\n                iw = ih * iR;\n            } else {\n                iw = (cw - woff) * sf;\n                ih = iw / iR;\n            }\n            imt = (ch - hoff - ih) / 2;\n            iml = (cw - woff - iw) / 2;\n        } else {\n            // fill container\n            //cr = (cw / ch);\n            if (ir < 1) {\n                //image is portrait\n                iw = cw;\n                ih = iw / iR;\n                if (ih < ch) {\n                    ih = ch;\n                    iw = ih * ir;\n                    iml = (cw - iw) / 2 - loff;\n                    imt = (ch - ih) / 2 - toff;\n                } else {\n                    imt = (ch - ih) / 2 - toff;\n                    iml = (cw - iw) / 2 - loff;\n                }\n            } else {\n                // image is landscape\n                ih = ch;\n                iw = ih * ir;\n\n                if (iw < cw) {\n                    iw = cw;\n                    ih = iw / ir;\n                }\n\n                iml = (cw - iw) / 2 - loff;\n                imt = (ch - ih) / 2 - toff;\n            }\n        }\n\n        // If image is to be full screen\n        if (el.hasClass('full')) {\n            if (cR > iR) {\n                // landscape. set width equal to container.  centre image vertically\n                iw = cw;\n                ih = iw / iR;\n                iml = 0;\n                imt = - ((ih - ch) / 2);\n            } else {\n                // portrait. set height equal to container. centre image horizontally\n                ih = ch;\n                iw = ih * iR;\n                iml = -((iw - cw) / 2);\n                imt = 0;\n            }\n        }\n        \n        if (prop == \"margin\") {\n            el.width(iw).height(ih).css({\n                marginTop: imt + \"px\",\n                marginLeft: iml + \"px\"\n            });\n        } else if (prop == \"position\") {\n            el.width(iw).height(ih).css({\n                top: imt + \"px\",\n                left: iml + \"px\"\n            });\n        } else if (prop == \"array\") {\n            var imgDim = new Array(4);\n            imgDim[0] = iw;\n            imgDim[1] = ih;\n            imgDim[2] = iml;\n            imgDim[3] = imt;\n            return imgDim;\n        }\n    }\n    /* End Resize Image */\n\n    /* Start: adjustFooterHeight */\n    function adjustFooterHeight(dur) {\n        var ch = $(window).height() - headerheight - footerheight;\n\n        dur = (typeof dur !== \"undefined\") ? dur : 200;\n        var fh = $(\".single-footer__container\").height();\n        var bfh = $(\".single-below-footer__container\")[0].scrollHeight;\n\n        console.log(bfh);\n        if (bfh < 33) {\n            bfh = 0;\n        }\n\n        if (bfh > (ch - 150)) {\n            bfh = ch - 150;\n            $(\".single-below-footer__description\").height(bfh).css('overflow-y', 'scroll');\n            $(\".single-below-footer__container\").css('overflow-y', 'scroll');\n        }\n\n        $(\".single-footer__container\")\n            .stop()\n            .animate({\n                height: bfh + footerheight\n            }, {\n                duration: dur,\n                easing: \"jswing\"\n            });\n        $(\".single-below-footer__container\").stop().animate({\n            marginTop: -(bfh)\n        }, {\n            duration: dur,\n            easing: \"jswing\"\n        });\n        $(\".single-below-footer__container\").height(bfh);\n    }\n    /* End: adjustFooterHeight */\n\n})(jQuery);\n"]}